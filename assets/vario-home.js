var varioSettings = [{"name":"Taglia","id":115907,"display_on_collection":false,"products":1330,"values":{"product":{"display_option":"button","image_size":"50x","page":"Product Page","values":[{"name":"S","id":115930,"swatch_color":"#90a4ae","swatch_image":"","products":437},{"name":"L","id":115931,"swatch_color":"#90a4ae","swatch_image":"","products":467},{"name":"M","id":115936,"swatch_color":"#90a4ae","swatch_image":"","products":492},{"name":"XL","id":115937,"swatch_color":"#90a4ae","swatch_image":"","products":334},{"name":"40","id":135145,"swatch_color":"#90a4ae","swatch_image":"","products":252},{"name":"42","id":135146,"swatch_color":"#90a4ae","swatch_image":"","products":237},{"name":"44","id":135147,"swatch_color":"#90a4ae","swatch_image":"","products":223},{"name":"XS","id":135149,"swatch_color":"#90a4ae","swatch_image":"","products":123},{"name":"38","id":135153,"swatch_color":"#90a4ae","swatch_image":"","products":72},{"name":"4","id":135155,"swatch_color":"#90a4ae","swatch_image":"","products":30},{"name":"6","id":135156,"swatch_color":"#90a4ae","swatch_image":"","products":51},{"name":"8","id":135157,"swatch_color":"#90a4ae","swatch_image":"","products":75},{"name":"10","id":135158,"swatch_color":"#90a4ae","swatch_image":"","products":76},{"name":"46","id":135160,"swatch_color":"#90a4ae","swatch_image":"","products":199},{"name":"XXL","id":135169,"swatch_color":"#90a4ae","swatch_image":"","products":145},{"name":"48","id":135172,"swatch_color":"#90a4ae","swatch_image":"","products":138},{"name":"50","id":135173,"swatch_color":"#90a4ae","swatch_image":"","products":101},{"name":"52","id":135174,"swatch_color":"#90a4ae","swatch_image":"","products":96},{"name":"54","id":135175,"swatch_color":"#90a4ae","swatch_image":"","products":91},{"name":"UNI","id":135184,"swatch_color":"#90a4ae","swatch_image":"","products":262},{"name":"39","id":135367,"swatch_color":"#90a4ae","swatch_image":"","products":30},{"name":"41","id":135368,"swatch_color":"#90a4ae","swatch_image":"","products":14},{"name":"43","id":135369,"swatch_color":"#90a4ae","swatch_image":"","products":15},{"name":"7","id":135408,"swatch_color":"#90a4ae","swatch_image":"","products":44},{"name":"5","id":135614,"swatch_color":"#90a4ae","swatch_image":"","products":18},{"name":"9","id":135617,"swatch_color":"#90a4ae","swatch_image":"","products":53},{"name":"26","id":135622,"swatch_color":"#90a4ae","swatch_image":"","products":23},{"name":"27","id":135623,"swatch_color":"#90a4ae","swatch_image":"","products":23},{"name":"28","id":135624,"swatch_color":"#90a4ae","swatch_image":"","products":24},{"name":"29","id":135625,"swatch_color":"#90a4ae","swatch_image":"","products":33},{"name":"12","id":137889,"swatch_color":"#90a4ae","swatch_image":"","products":26},{"name":"14","id":137909,"swatch_color":"#90a4ae","swatch_image":"","products":11},{"name":"11","id":138019,"swatch_color":"#90a4ae","swatch_image":"","products":31},{"name":"718","id":138056,"swatch_color":"#90a4ae","swatch_image":"","products":2},{"name":"714","id":138057,"swatch_color":"#90a4ae","swatch_image":"","products":2},{"name":"3,5","id":139316,"swatch_color":"#90a4ae","swatch_image":"","products":12},{"name":"4,5","id":139317,"swatch_color":"#90a4ae","swatch_image":"","products":16},{"name":"5,5","id":139318,"swatch_color":"#90a4ae","swatch_image":"","products":17},{"name":"6,5","id":139319,"swatch_color":"#90a4ae","swatch_image":"","products":26},{"name":"7,5","id":139320,"swatch_color":"#90a4ae","swatch_image":"","products":48},{"name":"8,5","id":139326,"swatch_color":"#90a4ae","swatch_image":"","products":47},{"name":"9,5","id":139327,"swatch_color":"#90a4ae","swatch_image":"","products":42},{"name":"10,5","id":139329,"swatch_color":"#90a4ae","swatch_image":"","products":31},{"name":"31","id":147649,"swatch_color":"#90a4ae","swatch_image":"","products":46},{"name":"32","id":147650,"swatch_color":"#90a4ae","swatch_image":"","products":39},{"name":"33","id":147651,"swatch_color":"#90a4ae","swatch_image":"","products":33},{"name":"34","id":147652,"swatch_color":"#90a4ae","swatch_image":"","products":33},{"name":"35","id":147653,"swatch_color":"#90a4ae","swatch_image":"","products":25},{"name":"36","id":147654,"swatch_color":"#90a4ae","swatch_image":"","products":54},{"name":"56","id":147656,"swatch_color":"#90a4ae","swatch_image":"","products":30},{"name":"37","id":147695,"swatch_color":"#90a4ae","swatch_image":"","products":21},{"name":"25","id":147698,"swatch_color":"#90a4ae","swatch_image":"","products":19},{"name":"30","id":147699,"swatch_color":"#90a4ae","swatch_image":"","products":41},{"name":"T.1","id":147721,"swatch_color":"#90a4ae","swatch_image":"","products":12},{"name":"T.2","id":147722,"swatch_color":"#90a4ae","swatch_image":"","products":12},{"name":"2","id":147728,"swatch_color":"#90a4ae","swatch_image":"","products":5},{"name":"10A","id":147729,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"12A","id":147730,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"14A","id":147731,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"16A","id":147732,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"T.5","id":147735,"swatch_color":"#90a4ae","swatch_image":"","products":10},{"name":"T.6","id":147736,"swatch_color":"#90a4ae","swatch_image":"","products":11},{"name":"T.7","id":147737,"swatch_color":"#90a4ae","swatch_image":"","products":13},{"name":"T.8","id":147738,"swatch_color":"#90a4ae","swatch_image":"","products":10},{"name":"43\/45","id":149776,"swatch_color":"#90a4ae","swatch_image":"","products":5},{"name":"T.9","id":149780,"swatch_color":"#90a4ae","swatch_image":"","products":3},{"name":"T.3","id":149786,"swatch_color":"#90a4ae","swatch_image":"","products":4},{"name":"T.4","id":149787,"swatch_color":"#90a4ae","swatch_image":"","products":4},{"name":"XXX","id":149843,"swatch_color":"#90a4ae","swatch_image":"","products":3},{"name":"L\/XL","id":149915,"swatch_color":"#90a4ae","swatch_image":"","products":11},{"name":"S\/M","id":149917,"swatch_color":"#90a4ae","swatch_image":"","products":4},{"name":"XXS","id":149993,"swatch_color":"#90a4ae","swatch_image":"","products":6},{"name":"24","id":150018,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"37,5","id":151247,"swatch_color":"#90a4ae","swatch_image":"","products":2},{"name":"38,5","id":151248,"swatch_color":"#90a4ae","swatch_image":"","products":2},{"name":"60","id":151295,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"15,5","id":157967,"swatch_color":"#90a4ae","swatch_image":"","products":5},{"name":"16","id":157968,"swatch_color":"#90a4ae","swatch_image":"","products":5},{"name":"16,5","id":157969,"swatch_color":"#90a4ae","swatch_image":"","products":5},{"name":"17","id":157970,"swatch_color":"#90a4ae","swatch_image":"","products":5},{"name":"17,5","id":157971,"swatch_color":"#90a4ae","swatch_image":"","products":5},{"name":"15","id":157972,"swatch_color":"#90a4ae","swatch_image":"","products":4},{"name":"45","id":157974,"swatch_color":"#90a4ae","swatch_image":"","products":7},{"name":"11,5","id":158978,"swatch_color":"#90a4ae","swatch_image":"","products":4},{"name":"738","id":159058,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"155","id":173950,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"160","id":173951,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"165","id":173952,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"157","id":173953,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"167","id":173954,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"3","id":173957,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"1","id":173958,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"Olivewood","id":193336,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"39\/42","id":194075,"swatch_color":"#90a4ae","swatch_image":"","products":1}]}}},{"name":"Colore","id":115913,"display_on_collection":false,"products":1330,"values":{"product":{"display_option":"color-custom-image-swatch","image_size":"50x","page":"Product Page","values":[{"name":"Verde","id":115929,"swatch_color":"#381","swatch_image":"","products":93},{"name":"Nero","id":115932,"swatch_color":"#000000","swatch_image":"","products":490},{"name":"Bianco","id":116012,"swatch_color":"#ffffff","swatch_image":"","products":95},{"name":"Rosso","id":116016,"swatch_color":"#ff0000","swatch_image":"","products":52},{"name":"Blu","id":116019,"swatch_color":"#000080","swatch_image":"","products":203},{"name":"Marrone","id":116022,"swatch_color":"#734222","swatch_image":"","products":95},{"name":"Cammello","id":135148,"swatch_color":"#964b00","swatch_image":"","products":49},{"name":"Grigio","id":135177,"swatch_color":"#90a4ae","swatch_image":"","products":158},{"name":"Beige","id":135195,"swatch_color":"#F5F5DC","swatch_image":"","products":56},{"name":"Cuoio","id":135218,"swatch_color":"#e1cdb3","swatch_image":"","products":18},{"name":"Rosa","id":135271,"swatch_color":"#ffc0cb","swatch_image":"","products":45},{"name":"Tabacco","id":137847,"swatch_color":"#422d26","swatch_image":"","products":3},{"name":"Corda","id":137911,"swatch_color":"#c2b280","swatch_image":"","products":4},{"name":"Kaki","id":137990,"swatch_color":"#f0e68c","swatch_image":"","products":9},{"name":"Ruggine","id":137992,"swatch_color":"#B7410E","swatch_image":"","products":5},{"name":"Azzurro","id":137998,"swatch_color":"#007fff","swatch_image":"","products":11},{"name":"Crema","id":139314,"swatch_color":"#fffdd0","swatch_image":"","products":6},{"name":"Multicolor","id":139497,"swatch_color":"#90a4ae","swatch_image":"https:\/\/s3.us-east-1.amazonaws.com\/seedgrow\/vario\/61894bbf0134f-multicolor-tenue.jpg","products":61},{"name":"Blu navy","id":142161,"swatch_color":"#000080","swatch_image":"","products":145},{"name":"Verde oliva","id":144205,"swatch_color":"#424632","swatch_image":"","products":31},{"name":"Tartan","id":144206,"swatch_color":"#568046","swatch_image":"https:\/\/s3.us-east-1.amazonaws.com\/seedgrow\/vario\/618d45f77c0d4-tartan.jpg","products":10},{"name":"Talco","id":144278,"swatch_color":"#F5F5DC","swatch_image":"","products":6},{"name":"Ebano","id":144309,"swatch_color":"#654321","swatch_image":"","products":2},{"name":"Burro","id":147031,"swatch_color":"#e6d690","swatch_image":"","products":8},{"name":"Fuxia","id":147034,"swatch_color":"#f400a1","swatch_image":"","products":3},{"name":"Avion","id":147036,"swatch_color":"#5d8aa8","swatch_image":"","products":5},{"name":"Grigio scuro","id":147037,"swatch_color":"#828282","swatch_image":"","products":37},{"name":"Grigio chiaro","id":147038,"swatch_color":"#9c9c9c","swatch_image":"","products":15},{"name":"Jeans","id":147039,"swatch_color":"#1560bd","swatch_image":"","products":11},{"name":"Celeste","id":147040,"swatch_color":"#99cbff","swatch_image":"","products":32},{"name":"Bianco a righe","id":147041,"swatch_color":"#ffffff","swatch_image":"","products":2},{"name":"Marrone scuro","id":147645,"swatch_color":"#654321","swatch_image":"","products":8},{"name":"Bordeaux","id":147646,"swatch_color":"#7b002c","swatch_image":"","products":37},{"name":"Cipria","id":147648,"swatch_color":"#f78575","swatch_image":"","products":7},{"name":"Argento","id":147655,"swatch_color":"#C0C0C0","swatch_image":"","products":4},{"name":"Sabbia","id":147657,"swatch_color":"#c6a664","swatch_image":"","products":12},{"name":"Tortora","id":147692,"swatch_color":"#a8a490","swatch_image":"","products":38},{"name":"Denim","id":147700,"swatch_color":"#1560bd","swatch_image":"","products":27},{"name":"Jeans scuro","id":147701,"swatch_color":"#1560bd","swatch_image":"","products":1},{"name":"Blu scuro","id":147708,"swatch_color":"#000080","swatch_image":"","products":9},{"name":"Arancio","id":147724,"swatch_color":"#ffa500","swatch_image":"","products":15},{"name":"Panna","id":147727,"swatch_color":"#fffdd0","swatch_image":"","products":33},{"name":"Verde scuro","id":147733,"swatch_color":"#013220","swatch_image":"","products":9},{"name":"Lavanda","id":147739,"swatch_color":"#c9a0dc","swatch_image":"","products":3},{"name":"Giallo","id":147740,"swatch_color":"#ffff00","swatch_image":"","products":12},{"name":"Blu royal","id":149842,"swatch_color":"#4169e1","swatch_image":"","products":5},{"name":"Avorio","id":149844,"swatch_color":"#FFFFF0","swatch_image":"","products":21},{"name":"Grigio perla","id":149845,"swatch_color":"#c3c5c4","swatch_image":"","products":3},{"name":"Bluette","id":149846,"swatch_color":"#2271b3","swatch_image":"","products":3},{"name":"Mattone","id":149913,"swatch_color":"#B22","swatch_image":"","products":3},{"name":"Verde militare","id":149918,"swatch_color":"#556832","swatch_image":"","products":9},{"name":"Lilla","id":149922,"swatch_color":"#c8a2c8","swatch_image":"","products":2},{"name":"Black","id":150008,"swatch_color":"#000000","swatch_image":"","products":5},{"name":"Renna","id":150009,"swatch_color":"#993300","swatch_image":"","products":4},{"name":"Naturale","id":150010,"swatch_color":"#fffeef","swatch_image":"","products":5},{"name":"Ametista","id":150013,"swatch_color":"#9966cc","swatch_image":"","products":1},{"name":"Ciliegia","id":150014,"swatch_color":"#de3163","swatch_image":"","products":2},{"name":"Pervinca","id":150016,"swatch_color":"#ccccff","swatch_image":"","products":5},{"name":"Lampone","id":150987,"swatch_color":"#e30b5c","swatch_image":"","products":3},{"name":"Glicine","id":150988,"swatch_color":"#c9a0dc","swatch_image":"","products":2},{"name":"Turchese","id":150990,"swatch_color":"#00b0c7","swatch_image":"","products":6},{"name":"Leopardato","id":151241,"swatch_color":"#90a4ae","swatch_image":"https:\/\/s3.us-east-1.amazonaws.com\/seedgrow\/vario\/618a73d96b899-rasatello-cotone-leopardato-classico.jpg","products":2},{"name":"Rame","id":157984,"swatch_color":"#B87333","swatch_image":"","products":5},{"name":"Blue","id":172997,"swatch_color":"#0000FF","swatch_image":"","products":1},{"name":"Navy","id":172998,"swatch_color":"#000080","swatch_image":"","products":16},{"name":"Verde chiaro","id":173718,"swatch_color":"#77dd77","swatch_image":"","products":2},{"name":"Sky","id":173955,"swatch_color":"#99cbff","swatch_image":"","products":1},{"name":"Viola","id":173956,"swatch_color":"#512d6d","swatch_image":"","products":10},{"name":"Arancione","id":179019,"swatch_color":"#FF8000","swatch_image":"","products":3},{"name":"Camouflage","id":179093,"swatch_color":"#90a4ae","swatch_image":"https:\/\/s3.us-east-1.amazonaws.com\/seedgrow\/vario\/6196754e1f034-fantasia-camouflage-350x435.jpg","products":5},{"name":"Antracite","id":179473,"swatch_color":"#2B292E","swatch_image":"","products":2},{"name":"Anguria","id":179474,"swatch_color":"#FC6C85","swatch_image":"","products":4},{"name":"Vino","id":181779,"swatch_color":"#7b002c","swatch_image":"","products":3},{"name":"Tiffany","id":182227,"swatch_color":"#7bf2da","swatch_image":"","products":1},{"name":"Marrone chiaro","id":182228,"swatch_color":"#ba926c","swatch_image":"","products":8},{"name":"Pietra","id":182337,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"Fumo","id":185936,"swatch_color":"#90a4ae","swatch_image":"","products":2},{"name":"Mogano","id":186017,"swatch_color":"#4c2f27","swatch_image":"","products":1},{"name":"Zebrato","id":186861,"swatch_color":"#90a4ae","swatch_image":"https:\/\/s3.us-east-1.amazonaws.com\/seedgrow\/vario\/619d0d67a6364-istockphoto-1181378242-612x612.jpg","products":4},{"name":"Verde acqua","id":187702,"swatch_color":"#7fffd4","swatch_image":"","products":2},{"name":"S\/M","id":193335,"swatch_color":"#90a4ae","swatch_image":"","products":1},{"name":"Oro","id":194920,"swatch_color":"#cda434","swatch_image":"","products":1},{"name":"Blu notte","id":195000,"swatch_color":"#000080","swatch_image":"","products":1},{"name":"Khaki","id":195991,"swatch_color":"#F0E68C","swatch_image":"","products":3},{"name":"Giallo chiaro","id":196064,"swatch_color":"#f7e89f","swatch_image":"","products":1},{"name":"Giallo ocra","id":196065,"swatch_color":"#f7d917","swatch_image":"","products":1},{"name":"Rosso*","id":197480,"swatch_color":"#ff0000","swatch_image":"","products":1},{"name":"Rosa Salmone","id":197515,"swatch_color":"#ff8c69","swatch_image":"","products":1},{"name":"Oliva","id":197721,"swatch_color":"#556832","swatch_image":"","products":2},{"name":"Multicolore","id":197917,"swatch_color":"#90a4ae","swatch_image":"https:\/\/s3.us-east-1.amazonaws.com\/seedgrow\/vario\/61af75b8ed8dd-multicolor-background-design_1164-857.jpg","products":2},{"name":"Miele","id":202738,"swatch_color":"#eec9c8","swatch_image":"","products":1},{"name":"Blu Navy","id":204718,"swatch_color":"#000080","swatch_image":"","products":1},{"name":"Cioccolato","id":204719,"swatch_color":"#45322e","swatch_image":"","products":2}]}}}];var VarioCurrencyFormat = 'â‚¬{{amount_with_comma_separator}}';/*! For license information please see home.js.LICENSE.txt */
(()=>{"use strict";function e(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function t(t){return t instanceof e(t).Element||t instanceof Element}function r(t){return t instanceof e(t).HTMLElement||t instanceof HTMLElement}function n(t){return"undefined"!=typeof ShadowRoot&&(t instanceof e(t).ShadowRoot||t instanceof ShadowRoot)}var i=Math.round;function o(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,s=1;if(r(e)&&t){var a=e.offsetHeight,c=e.offsetWidth;c>0&&(o=n.width/c||1),a>0&&(s=n.height/a||1)}return{width:i(n.width/o),height:i(n.height/s),top:i(n.top/s),right:i(n.right/o),bottom:i(n.bottom/s),left:i(n.left/o),x:i(n.left/o),y:i(n.top/s)}}function s(t){var r=e(t);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function a(e){return e?(e.nodeName||"").toLowerCase():null}function c(e){return((t(e)?e.ownerDocument:e.document)||window.document).documentElement}function l(e){return o(c(e)).left+s(e).scrollLeft}function u(t){return e(t).getComputedStyle(t)}function p(e){var t=u(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function d(t,n,i){void 0===i&&(i=!1);var u,d,h=r(n),f=r(n)&&function(e){var t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return 1!==r||1!==n}(n),m=c(n),g=o(t,f),v={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(h||!h&&!i)&&(("body"!==a(n)||p(m))&&(v=(u=n)!==e(u)&&r(u)?{scrollLeft:(d=u).scrollLeft,scrollTop:d.scrollTop}:s(u)),r(n)?((y=o(n,!0)).x+=n.clientLeft,y.y+=n.clientTop):m&&(y.x=l(m))),{x:g.left+v.scrollLeft-y.x,y:g.top+v.scrollTop-y.y,width:g.width,height:g.height}}function h(e){var t=o(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function f(e){return"html"===a(e)?e:e.assignedSlot||e.parentNode||(n(e)?e.host:null)||c(e)}function m(e){return["html","body","#document"].indexOf(a(e))>=0?e.ownerDocument.body:r(e)&&p(e)?e:m(f(e))}function g(t,r){var n;void 0===r&&(r=[]);var i=m(t),o=i===(null==(n=t.ownerDocument)?void 0:n.body),s=e(i),a=o?[s].concat(s.visualViewport||[],p(i)?i:[]):i,c=r.concat(a);return o?c:c.concat(g(f(a)))}function v(e){return["table","td","th"].indexOf(a(e))>=0}function y(e){return r(e)&&"fixed"!==u(e).position?e.offsetParent:null}function w(t){for(var n=e(t),i=y(t);i&&v(i)&&"static"===u(i).position;)i=y(i);return i&&("html"===a(i)||"body"===a(i)&&"static"===u(i).position)?n:i||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&r(e)&&"fixed"===u(e).position)return null;for(var n=f(e);r(n)&&["html","body"].indexOf(a(n))<0;){var i=u(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(t)||n}var b="top",S="bottom",T="right",O="left",x="auto",_=[b,S,T,O],k="start",E="end",q="viewport",A="popper",L=_.reduce((function(e,t){return e.concat([t+"-"+k,t+"-"+E])}),[]),j=[].concat(_,[x]).reduce((function(e,t){return e.concat([t,t+"-"+k,t+"-"+E])}),[]),N=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function P(e){var t=new Map,r=new Set,n=[];function i(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&i(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||i(e)})),n}var D={placement:"bottom",modifiers:[],strategy:"absolute"};function R(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function M(e){void 0===e&&(e={});var r=e,n=r.defaultModifiers,i=void 0===n?[]:n,o=r.defaultOptions,s=void 0===o?D:o;return function(e,r,n){void 0===n&&(n=s);var o,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},D,s),modifiersData:{},elements:{reference:e,popper:r},attributes:{},styles:{}},l=[],u=!1,p={state:c,setOptions:function(n){var o="function"==typeof n?n(c.options):n;f(),c.options=Object.assign({},s,c.options,o),c.scrollParents={reference:t(e)?g(e):e.contextElement?g(e.contextElement):[],popper:g(r)};var a=function(e){var t=P(e);return N.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,c.options.modifiers)));return c.orderedModifiers=a.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,i=e.effect;if("function"==typeof i){var o=i({state:c,name:t,instance:p,options:n}),s=function(){};l.push(o||s)}})),p.update()},forceUpdate:function(){if(!u){var e=c.elements,t=e.reference,r=e.popper;if(R(t,r)){c.rects={reference:d(t,w(r),"fixed"===c.options.strategy),popper:h(r)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<c.orderedModifiers.length;n++)if(!0!==c.reset){var i=c.orderedModifiers[n],o=i.fn,s=i.options,a=void 0===s?{}:s,l=i.name;"function"==typeof o&&(c=o({state:c,options:a,name:l,instance:p})||c)}else c.reset=!1,n=-1}}},update:(o=function(){return new Promise((function(e){p.forceUpdate(),e(c)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){f(),u=!0}};if(!R(e,r))return p;function f(){l.forEach((function(e){return e()})),l=[]}return p.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),p}}var F={passive:!0};const C={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var r=t.state,n=t.instance,i=t.options,o=i.scroll,s=void 0===o||o,a=i.resize,c=void 0===a||a,l=e(r.elements.popper),u=[].concat(r.scrollParents.reference,r.scrollParents.popper);return s&&u.forEach((function(e){e.addEventListener("scroll",n.update,F)})),c&&l.addEventListener("resize",n.update,F),function(){s&&u.forEach((function(e){e.removeEventListener("scroll",n.update,F)})),c&&l.removeEventListener("resize",n.update,F)}},data:{}};function V(e){return e.split("-")[0]}function I(e){return e.split("-")[1]}function B(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function H(e){var t,r=e.reference,n=e.element,i=e.placement,o=i?V(i):null,s=i?I(i):null,a=r.x+r.width/2-n.width/2,c=r.y+r.height/2-n.height/2;switch(o){case b:t={x:a,y:r.y-n.height};break;case S:t={x:a,y:r.y+r.height};break;case T:t={x:r.x+r.width,y:c};break;case O:t={x:r.x-n.width,y:c};break;default:t={x:r.x,y:r.y}}var l=o?B(o):null;if(null!=l){var u="y"===l?"height":"width";switch(s){case k:t[l]=t[l]-(r[u]/2-n[u]/2);break;case E:t[l]=t[l]+(r[u]/2-n[u]/2)}}return t}const $={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=H({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var z=Math.max,U=Math.min,W=Math.round,J={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q(t){var r,n=t.popper,i=t.popperRect,o=t.placement,s=t.variation,a=t.offsets,l=t.position,p=t.gpuAcceleration,d=t.adaptive,h=t.roundOffsets,f=!0===h?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:W(W(t*n)/n)||0,y:W(W(r*n)/n)||0}}(a):"function"==typeof h?h(a):a,m=f.x,g=void 0===m?0:m,v=f.y,y=void 0===v?0:v,x=a.hasOwnProperty("x"),_=a.hasOwnProperty("y"),k=O,q=b,A=window;if(d){var L=w(n),j="clientHeight",N="clientWidth";L===e(n)&&"static"!==u(L=c(n)).position&&"absolute"===l&&(j="scrollHeight",N="scrollWidth"),L=L,o!==b&&(o!==O&&o!==T||s!==E)||(q=S,y-=L[j]-i.height,y*=p?1:-1),o!==O&&(o!==b&&o!==S||s!==E)||(k=T,g-=L[N]-i.width,g*=p?1:-1)}var P,D=Object.assign({position:l},d&&J);return p?Object.assign({},D,((P={})[q]=_?"0":"",P[k]=x?"0":"",P.transform=(A.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",P)):Object.assign({},D,((r={})[q]=_?y+"px":"",r[k]=x?g+"px":"",r.transform="",r))}const Y={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=void 0===i?[0,0]:i,s=j.reduce((function(e,r){return e[r]=function(e,t,r){var n=V(e),i=[O,b].indexOf(n)>=0?-1:1,o="function"==typeof r?r(Object.assign({},t,{placement:e})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[O,T].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(r,t.rects,o),e}),{}),a=s[t.placement],c=a.x,l=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=s}};var G={left:"right",right:"left",bottom:"top",top:"bottom"};function X(e){return e.replace(/left|right|bottom|top/g,(function(e){return G[e]}))}var Z={start:"end",end:"start"};function K(e){return e.replace(/start|end/g,(function(e){return Z[e]}))}function ee(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&n(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function te(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function re(t,n){return n===q?te(function(t){var r=e(t),n=c(t),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,u=0;return i&&(o=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=i.offsetLeft,u=i.offsetTop)),{width:o,height:s,x:a+l(t),y:u}}(t)):r(n)?function(e){var t=o(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(n):te(function(e){var t,r=c(e),n=s(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=z(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=z(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),p=-n.scrollLeft+l(e),d=-n.scrollTop;return"rtl"===u(i||r).direction&&(p+=z(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:p,y:d}}(c(t)))}function ne(e,n,i){var o="clippingParents"===n?function(e){var n=g(f(e)),i=["absolute","fixed"].indexOf(u(e).position)>=0&&r(e)?w(e):e;return t(i)?n.filter((function(e){return t(e)&&ee(e,i)&&"body"!==a(e)})):[]}(e):[].concat(n),s=[].concat(o,[i]),c=s[0],l=s.reduce((function(t,r){var n=re(e,r);return t.top=z(n.top,t.top),t.right=U(n.right,t.right),t.bottom=U(n.bottom,t.bottom),t.left=z(n.left,t.left),t}),re(e,c));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function ie(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function oe(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function se(e,r){void 0===r&&(r={});var n=r,i=n.placement,s=void 0===i?e.placement:i,a=n.boundary,l=void 0===a?"clippingParents":a,u=n.rootBoundary,p=void 0===u?q:u,d=n.elementContext,h=void 0===d?A:d,f=n.altBoundary,m=void 0!==f&&f,g=n.padding,v=void 0===g?0:g,y=ie("number"!=typeof v?v:oe(v,_)),w=h===A?"reference":A,O=e.rects.popper,x=e.elements[m?w:h],k=ne(t(x)?x:x.contextElement||c(e.elements.popper),l,p),E=o(e.elements.reference),L=H({reference:E,element:O,strategy:"absolute",placement:s}),j=te(Object.assign({},O,L)),N=h===A?j:E,P={top:k.top-N.top+y.top,bottom:N.bottom-k.bottom+y.bottom,left:k.left-N.left+y.left,right:N.right-k.right+y.right},D=e.modifiersData.offset;if(h===A&&D){var R=D[s];Object.keys(P).forEach((function(e){var t=[T,S].indexOf(e)>=0?1:-1,r=[b,S].indexOf(e)>=0?"y":"x";P[e]+=R[r]*t}))}return P}function ae(e,t,r){return z(e,U(t,r))}const ce={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=void 0===i||i,s=r.altAxis,a=void 0!==s&&s,c=r.boundary,l=r.rootBoundary,u=r.altBoundary,p=r.padding,d=r.tether,f=void 0===d||d,m=r.tetherOffset,g=void 0===m?0:m,v=se(t,{boundary:c,rootBoundary:l,padding:p,altBoundary:u}),y=V(t.placement),x=I(t.placement),_=!x,E=B(y),q="x"===E?"y":"x",A=t.modifiersData.popperOffsets,L=t.rects.reference,j=t.rects.popper,N="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,P={x:0,y:0};if(A){if(o||a){var D="y"===E?b:O,R="y"===E?S:T,M="y"===E?"height":"width",F=A[E],C=A[E]+v[D],H=A[E]-v[R],$=f?-j[M]/2:0,W=x===k?L[M]:j[M],J=x===k?-j[M]:-L[M],Q=t.elements.arrow,Y=f&&Q?h(Q):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X=G[D],Z=G[R],K=ae(0,L[M],Y[M]),ee=_?L[M]/2-$-K-X-N:W-K-X-N,te=_?-L[M]/2+$+K+Z+N:J+K+Z+N,re=t.elements.arrow&&w(t.elements.arrow),ne=re?"y"===E?re.clientTop||0:re.clientLeft||0:0,ie=t.modifiersData.offset?t.modifiersData.offset[t.placement][E]:0,oe=A[E]+ee-ie-ne,ce=A[E]+te-ie;if(o){var le=ae(f?U(C,oe):C,F,f?z(H,ce):H);A[E]=le,P[E]=le-F}if(a){var ue="x"===E?b:O,pe="x"===E?S:T,de=A[q],he=de+v[ue],fe=de-v[pe],me=ae(f?U(he,oe):he,de,f?z(fe,ce):fe);A[q]=me,P[q]=me-de}}t.modifiersData[n]=P}},requiresIfExists:["offset"]};const le={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=V(r.placement),c=B(a),l=[O,T].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return ie("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:oe(e,_))}(i.padding,r),p=h(o),d="y"===c?b:O,f="y"===c?S:T,m=r.rects.reference[l]+r.rects.reference[c]-s[c]-r.rects.popper[l],g=s[c]-r.rects.reference[c],v=w(o),y=v?"y"===c?v.clientHeight||0:v.clientWidth||0:0,x=m/2-g/2,k=u[d],E=y-p[l]-u[f],q=y/2-p[l]/2+x,A=ae(k,q,E),L=c;r.modifiersData[n]=((t={})[L]=A,t.centerOffset=A-q,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&ee(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ue(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function pe(e){return[b,T,S,O].some((function(t){return e[t]>=0}))}var de=M({defaultModifiers:[C,$,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=void 0===n||n,o=r.adaptive,s=void 0===o||o,a=r.roundOffsets,c=void 0===a||a,l={placement:V(t.placement),variation:I(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Q(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Q(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];r(o)&&a(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],o=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});r(i)&&a(i)&&(Object.assign(i.style,s),Object.keys(o).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},Y,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=void 0===i||i,s=r.altAxis,a=void 0===s||s,c=r.fallbackPlacements,l=r.padding,u=r.boundary,p=r.rootBoundary,d=r.altBoundary,h=r.flipVariations,f=void 0===h||h,m=r.allowedAutoPlacements,g=t.options.placement,v=V(g),y=c||(v===g||!f?[X(g)]:function(e){if(V(e)===x)return[];var t=X(e);return[K(e),t,K(t)]}(g)),w=[g].concat(y).reduce((function(e,r){return e.concat(V(r)===x?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,l=void 0===c?j:c,u=I(n),p=u?a?L:L.filter((function(e){return I(e)===u})):_,d=p.filter((function(e){return l.indexOf(e)>=0}));0===d.length&&(d=p);var h=d.reduce((function(t,r){return t[r]=se(e,{placement:r,boundary:i,rootBoundary:o,padding:s})[V(r)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:r,boundary:u,rootBoundary:p,padding:l,flipVariations:f,allowedAutoPlacements:m}):r)}),[]),E=t.rects.reference,q=t.rects.popper,A=new Map,N=!0,P=w[0],D=0;D<w.length;D++){var R=w[D],M=V(R),F=I(R)===k,C=[b,S].indexOf(M)>=0,B=C?"width":"height",H=se(t,{placement:R,boundary:u,rootBoundary:p,altBoundary:d,padding:l}),$=C?F?T:O:F?S:b;E[B]>q[B]&&($=X($));var z=X($),U=[];if(o&&U.push(H[M]<=0),a&&U.push(H[$]<=0,H[z]<=0),U.every((function(e){return e}))){P=R,N=!1;break}A.set(R,U)}if(N)for(var W=function(e){var t=w.find((function(t){var r=A.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return P=t,"break"},J=f?3:1;J>0;J--){if("break"===W(J))break}t.placement!==P&&(t.modifiersData[n]._skip=!0,t.placement=P,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},ce,le,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=se(t,{elementContext:"reference"}),a=se(t,{altBoundary:!0}),c=ue(s,n),l=ue(a,i,o),u=pe(c),p=pe(l);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}}]});class he{valueOf(){}liquidMethodMissing(e){}}var fe=function(){return fe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fe.apply(this,arguments)};const me=Object.prototype.toString,ge=String.prototype.toLowerCase;function ve(e){return"[object String]"===me.call(e)}function ye(e){return"function"==typeof e}function we(e){return Oe(e=be(e))?"":String(e)}function be(e){return e instanceof he?e.valueOf():e}function Se(e){return"number"==typeof e}function Te(e){return e&&ye(e.toLiquid)?Te(e.toLiquid()):e}function Oe(e){return null==e}function xe(e){return"[object Array]"===me.call(e)}function _e(e,t){e=e||{};for(const r in e)if(e.hasOwnProperty(r)&&!1===t(e[r],r,e))break;return e}function ke(e){return e[e.length-1]}function Ee(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)}function qe(e,t,r=1){const n=[];for(let i=e;i<t;i+=r)n.push(i);return n}function Ae(e,t,r=" "){return Le(e,t,r,((e,t)=>t+e))}function Le(e,t,r,n){let i=t-(e=String(e)).length;for(;i-- >0;)e=n(e,r);return e}function je(e){return e}function Ne(e){return e.replace(/(\w?)([A-Z])/g,((e,t,r)=>(t?t+"_":"")+r.toLowerCase()))}function Pe(e,t){return null==e&&null==t?0:null==e?1:null==t||(e=ge.call(e))<(t=ge.call(t))?-1:e>t?1:0}class De{constructor(e,t,r,n){this.key=e,this.value=t,this.next=r,this.prev=n}}class Re{constructor(e,t=0){this.limit=e,this.size=t,this.cache={},this.head=new De("HEAD",null,null,null),this.tail=new De("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}write(e,t){if(this.cache[e])this.cache[e].value=t;else{const r=new De(e,t,this.head.next,this.head);this.head.next.prev=r,this.head.next=r,this.cache[e]=r,this.size++,this.ensureLimit()}}read(e){if(!this.cache[e])return;const{value:t}=this.cache[e];return this.remove(e),this.write(e,t),t}remove(e){const t=this.cache[e];t.prev.next=t.next,t.next.prev=t.prev,delete this.cache[e],this.size--}clear(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}}ensureLimit(){this.size>this.limit&&this.remove(this.tail.prev.key)}}var Me=Object.freeze({resolve:function(e,t,r){e.length&&"/"!==ke(e)&&(e+="/");const n=function(e,t){const r=document.createElement("base");r.href=e;const n=document.getElementsByTagName("head")[0];n.insertBefore(r,n.firstChild);const i=document.createElement("a");i.href=t;const o=i.href;return n.removeChild(r),o}(e,t);return n.replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,((e,t,n)=>{const i=n.split("/").pop();return/\.\w+$/.test(i)?e:t+n+r}))},readFile:async function(e){return new Promise(((t,r)=>{const n=new XMLHttpRequest;n.onload=()=>{n.status>=200&&n.status<300?t(n.responseText):r(new Error(n.statusText))},n.onerror=()=>{r(new Error("An error occurred whilst receiving the response."))},n.open("GET",e),n.send()}))},readFileSync:function(e){const t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),t.status<200||t.status>=300)throw new Error(t.statusText);return t.responseText},exists:async function(e){return!0},existsSync:function(e){return!0}});function Fe(e){return e&&ye(e.equals)}function Ce(e,t){return!Ve(e,t)}function Ve(e,t){return t.opts.jsTruthy?!e:!1===e||null==e}const Ie={"==":(e,t)=>Fe(e)?e.equals(t):Fe(t)?t.equals(e):e===t,"!=":(e,t)=>Fe(e)?!e.equals(t):Fe(t)?!t.equals(e):e!==t,">":(e,t)=>Fe(e)?e.gt(t):Fe(t)?t.lt(e):e>t,"<":(e,t)=>Fe(e)?e.lt(t):Fe(t)?t.gt(e):e<t,">=":(e,t)=>Fe(e)?e.geq(t):Fe(t)?t.leq(e):e>=t,"<=":(e,t)=>Fe(e)?e.leq(t):Fe(t)?t.geq(e):e<=t,contains:(e,t)=>!(!e||!ye(e.indexOf))&&e.indexOf(t)>-1,and:(e,t,r)=>Ce(e,r)&&Ce(t,r),or:(e,t,r)=>Ce(e,r)||Ce(t,r)},Be=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0];function He(e){const t={};for(const[r,n]of Object.entries(e)){let e=t;for(let t=0;t<r.length;t++){const n=r[t];e[n]=e[n]||{},t===r.length-1&&1&Be[r.charCodeAt(t)]&&(e[n].needBoundary=!0),e=e[n]}e.handler=n,e.end=!0}return t}Be[160]=Be[5760]=Be[6158]=Be[8192]=Be[8193]=Be[8194]=Be[8195]=Be[8196]=Be[8197]=Be[8198]=Be[8199]=Be[8200]=Be[8201]=Be[8202]=Be[8232]=Be[8233]=Be[8239]=Be[8287]=Be[12288]=4;const $e={root:["."],cache:void 0,extname:"",fs:Me,dynamicPartials:!0,jsTruthy:!1,trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,lenientIf:!1,globals:{},keepOutputType:!1,operators:Ie,operatorsTrie:He(Ie)};function ze(e){if((e=e||{}).hasOwnProperty("root")&&(e.root=Ue(e.root)),e.hasOwnProperty("cache")){let t;t="number"==typeof e.cache?e.cache>0?new Re(e.cache):void 0:"object"==typeof e.cache?e.cache:e.cache?new Re(1024):void 0,e.cache=t}return e.hasOwnProperty("operators")&&(e.operatorsTrie=He(e.operators)),e}function Ue(e){return xe(e)?e:ve(e)?[e]:[]}class We extends Error{constructor(e,t){super(e.message),this.originalError=e,this.token=t,this.context=""}update(){const e=this.originalError;this.context=function(e){const[t]=e.getPosition(),r=e.input.split("\n"),n=Math.max(t-2,1),i=Math.min(t+3,r.length);return qe(n,i+1).map((e=>`${e===t?">> ":"   "}${Ae(String(e),String(i).length)}| ${r[e-1]}`)).join("\n")}(this.token),this.message=function(e,t){t.file&&(e+=`, file:${t.file}`);const[r,n]=t.getPosition();return e+=`, line:${r}, col:${n}`}(e.message,this.token),this.stack=this.message+"\n"+this.context+"\n"+this.stack+"\nFrom "+e.stack}}class Je extends We{constructor(e,t){super(new Error(e),t),this.name="TokenizationError",super.update()}}class Qe extends We{constructor(e,t){super(e,t),this.name="ParseError",this.message=e.message,super.update()}}class Ye extends We{constructor(e,t){super(e,t.token),this.name="RenderError",this.message=e.message,super.update()}static is(e){return"RenderError"===e.name}}class Ge extends We{constructor(e,t){super(e,t),this.name="UndefinedVariableError",this.message=e.message,super.update()}}class Xe extends Error{constructor(e){super(`undefined variable: ${e}`),this.name="InternalUndefinedVariableError",this.variableName=e}}class Ze extends Error{constructor(e){super(e),this.name="AssertionError",this.message=e+""}}class Ke{constructor(e={},t=$e,r=!1){this.scopes=[{}],this.registers={},this.sync=r,this.opts=t,this.globals=t.globals,this.environments=e}getRegister(e,t={}){return this.registers[e]=this.registers[e]||t}setRegister(e,t){return this.registers[e]=t}saveRegister(...e){return e.map((e=>[e,this.getRegister(e)]))}restoreRegister(e){return e.forEach((([e,t])=>this.setRegister(e,t)))}getAll(){return[this.globals,this.environments,...this.scopes].reduce(((e,t)=>fe(e,t)),{})}get(e){const t=this.findScope(e[0]);return this.getFromScope(t,e)}getFromScope(e,t){return"string"==typeof t&&(t=t.split(".")),t.reduce(((e,t)=>{if(e=function(e,t){if(Oe(e))return e;if(ye((e=Te(e))[t]))return e[t]();if(e instanceof he)return e.hasOwnProperty(t)?e[t]:e.liquidMethodMissing(t);return"size"===t?function(e){return xe(e)||ve(e)?e.length:e.size}(e):"first"===t?function(e){return xe(e)?e[0]:e.first}(e):"last"===t?function(e){return xe(e)?e[e.length-1]:e.last}(e):e[t]}(e,t),Oe(e)&&this.opts.strictVariables)throw new Xe(t);return e}),e)}push(e){return this.scopes.push(e)}pop(){return this.scopes.pop()}bottom(){return this.scopes[0]}findScope(e){for(let t=this.scopes.length-1;t>=0;t--){const r=this.scopes[t];if(e in r)return r}return e in this.environments?this.environments:this.globals}}var et;function tt(e){return!!(dt(e)&et.Delimited)}function rt(e){return dt(e)===et.Operator}function nt(e){return dt(e)===et.HTML}function it(e){return dt(e)===et.Output}function ot(e){return dt(e)===et.Tag}function st(e){return dt(e)===et.Quoted}function at(e){return dt(e)===et.Literal}function ct(e){return dt(e)===et.Number}function lt(e){return dt(e)===et.PropertyAccess}function ut(e){return dt(e)===et.Word}function pt(e){return dt(e)===et.Range}function dt(e){return e?e.kind:-1}!function(e){e[e.Number=1]="Number",e[e.Literal=2]="Literal",e[e.Tag=4]="Tag",e[e.Output=8]="Output",e[e.HTML=16]="HTML",e[e.Filter=32]="Filter",e[e.Hash=64]="Hash",e[e.PropertyAccess=128]="PropertyAccess",e[e.Word=256]="Word",e[e.Range=512]="Range",e[e.Quoted=1024]="Quoted",e[e.Operator=2048]="Operator",e[e.Delimited=12]="Delimited"}(et||(et={}));function ht(e,t){if(!e||!nt(e))return;const r=t?4:16;for(;Be[e.input.charCodeAt(e.end-1-e.trimRight)]&r;)e.trimRight++}function ft(e,t){if(!e||!nt(e))return;const r=t?4:16;for(;Be[e.input.charCodeAt(e.begin+e.trimLeft)]&r;)e.trimLeft++;"\n"===e.input.charAt(e.begin+e.trimLeft)&&e.trimLeft++}class mt{constructor(e,t,r,n,i){this.kind=e,this.input=t,this.begin=r,this.end=n,this.file=i}getText(){return this.input.slice(this.begin,this.end)}getPosition(){let[e,t]=[1,1];for(let r=0;r<this.begin;r++)"\n"===this.input[r]?(e++,t=1):t++;return[e,t]}size(){return this.end-this.begin}}class gt extends mt{constructor(e,t){super(et.Number,e.input,e.begin,t?t.end:e.end,e.file),this.whole=e,this.decimal=t}}class vt extends mt{constructor(e,t,r,n){super(et.Word,e,t,r,n),this.input=e,this.begin=t,this.end=r,this.file=n,this.content=this.getText()}isNumber(e=!1){for(let t=e&&64&Be[this.input.charCodeAt(this.begin)]?this.begin+1:this.begin;t<this.end;t++)if(!(32&Be[this.input.charCodeAt(t)]))return!1;return!0}}class yt extends he{equals(e){return!(e instanceof yt)&&(ve(e=be(e))||xe(e)?0===e.length:!!Ee(e)&&0===Object.keys(e).length)}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}}const wt=new class extends he{equals(e){return Oe(be(e))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}},bt={true:!0,false:!1,nil:wt,null:wt,empty:new yt,blank:new class extends yt{equals(e){return!1===e||(!!Oe(be(e))||(ve(e)?/^\s*$/.test(e):super.equals(e)))}}};class St extends mt{constructor(e,t,r,n){super(et.Literal,e,t,r,n),this.input=e,this.begin=t,this.end=r,this.file=n,this.literal=this.getText()}}const Tt={"==":1,"!=":1,">":1,"<":1,">=":1,"<=":1,contains:1,and:0,or:0};class Ot extends mt{constructor(e,t,r,n){super(et.Operator,e,t,r,n),this.input=e,this.begin=t,this.end=r,this.file=n,this.operator=this.getText()}getPrecedence(){const e=this.getText();return e in Tt?Tt[e]:1}}const xt=/[\da-fA-F]/,_t=/[0-7]/,kt={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v"};function Et(e){const t=e.charCodeAt(0);return t>=97?t-87:t>=65?t-55:t-48}function qt(e){let t="";for(let r=1;r<e.length-1;r++)if("\\"===e[r])if(void 0!==kt[e[r+1]])t+=kt[e[++r]];else if("u"===e[r+1]){let n=0,i=r+2;for(;i<=r+5&&xt.test(e[i]);)n=16*n+Et(e[i++]);r=i-1,t+=String.fromCharCode(n)}else if(_t.test(e[r+1])){let n=r+1,i=0;for(;n<=r+3&&_t.test(e[n]);)i=8*i+Et(e[n++]);r=n-1,t+=String.fromCharCode(i)}else t+=e[++r];else t+=e[r];return t}class At extends mt{constructor(e,t,r){super(et.PropertyAccess,e.input,e.begin,r,e.file),this.variable=e,this.props=t}getVariableAsText(){return this.variable instanceof vt?this.variable.getText():qt(this.variable.getText())}}function Lt(e,t){if(!e){const r=t?t():`expect ${e} to be true`;throw new Ze(r)}}class jt extends mt{constructor(e,t,r,n,i,o){super(et.Filter,r,n,i,o),this.name=e,this.args=t}}class Nt extends mt{constructor(e,t,r,n,i,o){super(et.Hash,e,t,r,o),this.input=e,this.begin=t,this.end=r,this.name=n,this.value=i,this.file=o}}class Pt extends mt{constructor(e,t,r,n){super(et.Quoted,e,t,r,n),this.input=e,this.begin=t,this.end=r,this.file=n}}class Dt extends mt{constructor(e,t,r,n){super(et.HTML,e,t,r,n),this.input=e,this.begin=t,this.end=r,this.file=n,this.trimLeft=0,this.trimRight=0}getContent(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)}}class Rt extends mt{constructor(e,t,r,n,i,o,s,a){super(e,r,n,i,a),this.trimLeft=!1,this.trimRight=!1,this.content=this.getText();const c="-"===t[0],l="-"===ke(t);this.content=t.slice(c?1:0,l?-1:t.length).trim(),this.trimLeft=c||o,this.trimRight=l||s}}class Mt extends Rt{constructor(e,t,r,n,i){const{trimTagLeft:o,trimTagRight:s,tagDelimiterLeft:a,tagDelimiterRight:c}=n,l=e.slice(t+a.length,r-c.length);super(et.Tag,l,e,t,r,o,s,i);const u=new zt(this.content,n.operatorsTrie);if(this.name=u.readIdentifier().getText(),!this.name)throw new Je("illegal tag syntax",this);u.skipBlank(),this.args=u.remaining()}}class Ft extends mt{constructor(e,t,r,n,i,o){super(et.Range,e,t,r,o),this.input=e,this.begin=t,this.end=r,this.lhs=n,this.rhs=i,this.file=o}}class Ct extends Rt{constructor(e,t,r,n,i){const{trimOutputLeft:o,trimOutputRight:s,outputDelimiterLeft:a,outputDelimiterRight:c}=n,l=e.slice(t+a.length,r-c.length);super(et.Output,l,e,t,r,o,s,i)}}class Vt{constructor(e){this.postfix=[...$t(e)]}*evaluate(e,t){Lt(e,(()=>"unable to evaluate: context not defined"));const r=[];for(const n of this.postfix)if(rt(n)){const t=yield r.pop(),i=yield r.pop(),o=Ht(e.opts.operators,n,i,t,e);r.push(o)}else r.push(yield It(n,e,t&&1===this.postfix.length));return r[0]}}function It(e,t,r=!1){return lt(e)?function(e,t,r){const n=e.getVariableAsText(),i=e.props.map((e=>It(e,t,!1)));try{return t.get([n,...i])}catch(t){if(r&&"InternalUndefinedVariableError"===t.name)return null;throw new Ge(t,e)}}(e,t,r):pt(e)?function(e,t){const r=It(e.lhs,t),n=It(e.rhs,t);return qe(+r,+n+1)}(e,t):at(e)?function(e){return bt[e.literal]}(e):ct(e)?function(e){const t=e.whole.content+"."+(e.decimal?e.decimal.content:"");return Number(t)}(e):ut(e)?e.getText():st(e)?Bt(e):void 0}function Bt(e){return qt(e.getText())}function Ht(e,t,r,n,i){return(0,e[t.operator])(r,n,i)}function*$t(e){const t=[];for(const r of e)if(rt(r)){for(;t.length&&t[t.length-1].getPrecedence()>r.getPrecedence();)yield t.pop();t.push(r)}else yield r;for(;t.length;)yield t.pop()}class zt{constructor(e,t,r=""){this.input=e,this.trie=t,this.file=r,this.p=0,this.rawBeginAt=-1,this.N=e.length}readExpression(){return new Vt(this.readExpressionTokens())}*readExpressionTokens(){const e=this.readValue();if(e)for(yield e;this.p<this.N;){const e=this.readOperator();if(!e)return;const t=this.readValue();if(!t)return;yield e,yield t}}readOperator(){this.skipBlank();const e=function(e,t,r,n=e.length){let i,o=r,s=t;for(;o[e[s]]&&s<n;)o=o[e[s++]],o.end&&(i=o);return i?i.needBoundary&&1&Be[e.charCodeAt(s)]?-1:s:-1}(this.input,this.p,this.trie,this.p+8);if(-1!==e)return new Ot(this.input,this.p,this.p=e,this.file)}readFilters(){const e=[];for(;;){const t=this.readFilter();if(!t)return e;e.push(t)}}readFilter(){if(this.skipBlank(),this.end())return null;Lt("|"===this.peek(),(()=>`unexpected token at ${this.snapshot()}`)),this.p++;const e=this.p,t=this.readIdentifier();if(!t.size())return null;const r=[];if(this.skipBlank(),":"===this.peek())do{++this.p;const e=this.readFilterArg();for(e&&r.push(e);this.p<this.N&&","!==this.peek()&&"|"!==this.peek();)++this.p}while(","===this.peek());return new jt(t.getText(),r,this.input,e,this.p,this.file)}readFilterArg(){const e=this.readValue();if(!e)return;if(this.skipBlank(),":"!==this.peek())return e;++this.p;const t=this.readValue();return[e.getText(),t]}readTopLevelTokens(e=$e){const t=[];for(;this.p<this.N;){const r=this.readTopLevelToken(e);t.push(r)}return function(e,t){let r=!1;for(let n=0;n<e.length;n++){const i=e[n];tt(i)&&(!r&&i.trimLeft&&ht(e[n-1],t.greedy),ot(i)&&("raw"===i.name?r=!0:"endraw"===i.name&&(r=!1)),!r&&i.trimRight&&ft(e[n+1],t.greedy))}}(t,e),t}readTopLevelToken(e){const{tagDelimiterLeft:t,outputDelimiterLeft:r}=e;return this.rawBeginAt>-1?this.readEndrawOrRawContent(e):this.match(t)?this.readTagToken(e):this.match(r)?this.readOutputToken(e):this.readHTMLToken(e)}readHTMLToken(e){const t=this.p;for(;this.p<this.N;){const{tagDelimiterLeft:t,outputDelimiterLeft:r}=e;if(this.match(t))break;if(this.match(r))break;++this.p}return new Dt(this.input,t,this.p,this.file)}readTagToken(e=$e){const{file:t,input:r}=this,n=this.p;if(-1===this.readToDelimiter(e.tagDelimiterRight))throw this.mkError(`tag ${this.snapshot(n)} not closed`,n);const i=new Mt(r,n,this.p,e,t);return"raw"===i.name&&(this.rawBeginAt=n),i}readToDelimiter(e){for(;this.p<this.N;)if(8&this.peekType())this.readQuoted();else if(++this.p,this.rmatch(e))return this.p;return-1}readOutputToken(e=$e){const{file:t,input:r}=this,{outputDelimiterRight:n}=e,i=this.p;if(-1===this.readToDelimiter(n))throw this.mkError(`output ${this.snapshot(i)} not closed`,i);return new Ct(r,i,this.p,e,t)}readEndrawOrRawContent(e){const{tagDelimiterLeft:t,tagDelimiterRight:r}=e,n=this.p;let i=this.readTo(t)-t.length;for(;this.p<this.N;)if("endraw"===this.readIdentifier().getText())for(;this.p<=this.N;){if(this.rmatch(r)){const t=this.p;return n===i?(this.rawBeginAt=-1,new Mt(this.input,n,t,e,this.file)):(this.p=i,new Dt(this.input,n,i,this.file))}if(this.rmatch(t))break;this.p++}else i=this.readTo(t)-t.length;throw this.mkError(`raw ${this.snapshot(this.rawBeginAt)} not closed`,n)}mkError(e,t){return new Je(e,new vt(this.input,t,this.N,this.file))}snapshot(e=this.p){return JSON.stringify((t=this.input.slice(e),r=16,t.length>r?t.substr(0,r-3)+"...":t));var t,r}readWord(){return console.warn("Tokenizer#readWord() will be removed, use #readIdentifier instead"),this.readIdentifier()}readIdentifier(){this.skipBlank();const e=this.p;for(;1&this.peekType();)++this.p;return new vt(this.input,e,this.p,this.file)}readHashes(){const e=[];for(;;){const t=this.readHash();if(!t)return e;e.push(t)}}readHash(){this.skipBlank(),","===this.peek()&&++this.p;const e=this.p,t=this.readIdentifier();if(!t.size())return;let r;return this.skipBlank(),":"===this.peek()&&(++this.p,r=this.readValue()),new Nt(this.input,e,this.p,t,r,this.file)}remaining(){return this.input.slice(this.p)}advance(e=1){this.p+=e}end(){return this.p>=this.N}readTo(e){for(;this.p<this.N;)if(++this.p,this.rmatch(e))return this.p;return-1}readValue(){const e=this.readQuoted()||this.readRange();if(e)return e;if("["===this.peek()){this.p++;const e=this.readQuoted();if(!e)return;if("]"!==this.peek())return;return this.p++,new At(e,[],this.p)}const t=this.readIdentifier();if(!t.size())return;let r=t.isNumber(!0);const n=[];for(;;)if("["===this.peek()){r=!1,this.p++;const e=this.readValue()||new vt(this.input,this.p,this.p,this.file);this.readTo("]"),n.push(e)}else{if("."!==this.peek()||"."===this.peek(1))break;{this.p++;const e=this.readIdentifier();if(!e.size())break;e.isNumber()||(r=!1),n.push(e)}}return!n.length&&bt.hasOwnProperty(t.content)?new St(this.input,t.begin,t.end,this.file):r?new gt(t,n[0]):new At(t,n,this.p)}readRange(){this.skipBlank();const e=this.p;if("("!==this.peek())return;++this.p;const t=this.readValueOrThrow();this.p+=2;const r=this.readValueOrThrow();return++this.p,new Ft(this.input,e,this.p,t,r,this.file)}readValueOrThrow(){const e=this.readValue();return Lt(e,(()=>`unexpected token ${this.snapshot()}, value expected`)),e}readQuoted(){this.skipBlank();const e=this.p;if(!(8&this.peekType()))return;++this.p;let t=!1;for(;this.p<this.N&&(++this.p,this.input[this.p-1]!==this.input[e]||t);)t?t=!1:"\\"===this.input[this.p-1]&&(t=!0);return new Pt(this.input,e,this.p,this.file)}readFileName(){const e=this.p;for(;!(4&this.peekType())&&","!==this.peek()&&this.p<this.N;)this.p++;return new vt(this.input,e,this.p,this.file)}match(e){for(let t=0;t<e.length;t++)if(e[t]!==this.input[this.p+t])return!1;return!0}rmatch(e){for(let t=0;t<e.length;t++)if(e[e.length-1-t]!==this.input[this.p-1-t])return!1;return!0}peekType(e=0){return Be[this.input.charCodeAt(this.p+e)]}peek(e=0){return this.input[this.p+e]}skipBlank(){for(;4&this.peekType();)++this.p}}class Ut{constructor(e){this.html="",this.break=!1,this.continue=!1,this.keepOutputType=!1,this.keepOutputType=e}write(e){e=!0===this.keepOutputType?be(e):we(be(e)),!0===this.keepOutputType&&"string"!=typeof e&&""===this.html?this.html=e:this.html=we(this.html)+we(e)}}class Wt{*renderTemplates(e,t,r){r||(r=new Ut(t.opts.keepOutputType));for(const n of e)try{const e=yield n.render(t,r);if(e&&r.write(e),r.break||r.continue)break}catch(e){throw Ye.is(e)?e:new Ye(e,n)}return r.html}}class Jt{constructor(e,t){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=t}on(e,t){return this.handlers[e]=t,this}trigger(e,t){const r=this.handlers[e];return!!r&&(r(t),!0)}start(){let e;for(this.trigger("start");!this.stopRequested&&(e=this.tokens.shift());){if(this.trigger("token",e))continue;if(ot(e)&&this.trigger(`tag:${e.name}`,e))continue;const t=this.parseToken(e,this.tokens);this.trigger("template",t)}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}}class Qt{constructor(e){this.token=e}}class Yt{constructor(e){this.hash={};const t=new zt(e,{});for(const e of t.readHashes())this.hash[e.name.content]=e.value}*render(e){const t={};for(const r of Object.keys(this.hash))t[r]=yield It(this.hash[r],e);return t}}class Gt{constructor(e,t,r,n){this.name=e,this.impl=t||je,this.args=r,this.liquid=n}render(e,t){const r=[];for(const e of this.args)xe(e)?r.push([e[0],It(e[1],t)]):r.push(It(e,t));return this.impl.apply({context:t,liquid:this.liquid},[e,...r])}}class Xt{constructor(e,t){this.filters=[];const r=new zt(e,t.options.operatorsTrie);this.initial=r.readExpression(),this.filters=r.readFilters().map((({name:e,args:r})=>new Gt(e,t.filters.get(e),r,t)))}*value(e,t){t=t||e.opts.lenientIf&&this.filters.length>0&&"default"===this.filters[0].name;let r=yield this.initial.evaluate(e,t);for(const t of this.filters)r=yield t.render(r,e);return r}}function Zt(e){const t={then:t=>t(e),catch:()=>t};return t}function Kt(e){const t={then:(r,n)=>n?n(e):t,catch:t=>t(e)};return t}function er(e){return function(e){return e&&ye(e.then)}(e)?e:function(e){return e&&ye(e.next)&&ye(e.throw)&&ye(e.return)}(e)?function t(r){let n;try{n=e.next(r)}catch(e){return Kt(e)}return n.done?Zt(n.value):er(n.value).then(t,(r=>{let n;try{n=e.throw(r)}catch(e){return Kt(e)}return n.done?Zt(n.value):t(n.value)}))}():Zt(e)}function tr(e){return Promise.resolve(er(e))}function rr(e){let t;return er(e).then((e=>(t=e,Zt(t)))).catch((e=>{throw e})),t}class nr extends Qt{constructor(e,t,r){super(e),this.name=e.name;const n=r.tags.get(e.name);this.impl=Object.create(n),this.impl.liquid=r,this.impl.parse&&this.impl.parse(e,t)}*render(e,t){const r=yield new Yt(this.token.args).render(e),n=this.impl;if(ye(n.render))return yield n.render(e,t,r)}}class ir extends Qt{constructor(e,t){super(e),this.value=new Xt(e.content,t)}*render(e,t){const r=yield this.value.value(e,!1);t.write(r)}}class or extends Qt{constructor(e){super(e),this.str=e.getContent()}*render(e,t){t.write(this.str)}}class sr{constructor(e){this.liquid=e}parse(e){let t;const r=[];for(;t=e.shift();)r.push(this.parseToken(t,e));return r}parseToken(e,t){try{return ot(e)?new nr(e,t,this.liquid):it(e)?new ir(e,this.liquid):new or(e)}catch(t){throw new Qe(t,e)}}parseStream(e){return new Jt(e,((e,t)=>this.parseToken(e,t)))}}var ar={parse:function(e){const t=new zt(e.args,this.liquid.options.operatorsTrie);this.key=t.readIdentifier().content,t.skipBlank(),Lt("="===t.peek(),(()=>`illegal token ${e.getText()}`)),t.advance(),this.value=t.remaining()},render:function*(e){e.bottom()[this.key]=yield this.liquid._evalValue(this.value,e)}};function cr(e){return xe(e)?e:ve(e)&&e.length>0?[e]:Ee(e)?Object.keys(e).map((t=>[t,e[t]])):[]}function lr(e){return xe(e)?e:[e]}class ur extends he{constructor(e){super(),this.i=0,this.length=e}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return 0===this.i}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}}var pr={type:"block",parse:function(e,t){const r=new zt(e.args,this.liquid.options.operatorsTrie),n=r.readIdentifier(),i=r.readIdentifier(),o=r.readValue();let s;Lt(n.size()&&"in"===i.content&&o,(()=>`illegal tag: ${e.getText()}`)),this.variable=n.content,this.collection=o,this.hash=new Yt(r.remaining()),this.templates=[],this.elseTemplates=[];const a=this.liquid.parser.parseStream(t).on("start",(()=>s=this.templates)).on("tag:else",(()=>s=this.elseTemplates)).on("tag:endfor",(()=>a.stop())).on("template",(e=>s.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)}));a.start()},render:function*(e,t){const r=this.liquid.renderer;let n=cr(yield It(this.collection,e));if(!n.length)return void(yield r.renderTemplates(this.elseTemplates,e,t));const i=yield this.hash.render(e),o=i.offset||0,s=void 0===i.limit?n.length:i.limit;n=n.slice(o,o+s),"reversed"in i&&n.reverse();const a={forloop:new ur(n.length)};e.push(a);for(const i of n){if(a[this.variable]=i,yield r.renderTemplates(this.templates,e,t),t.break){t.break=!1;break}t.continue=!1,a.forloop.next()}e.pop()}},dr={parse:function(e,t){const r=new zt(e.args,this.liquid.options.operatorsTrie);this.variable=function(e){const t=e.readIdentifier().content;if(t)return t;const r=e.readQuoted();if(r)return Bt(r)}(r),Lt(this.variable,(()=>`${e.args} not valid identifier`)),this.templates=[];const n=this.liquid.parser.parseStream(t);n.on("tag:endcapture",(()=>n.stop())).on("template",(e=>this.templates.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)})),n.start()},render:function*(e){const t=this.liquid.renderer,r=yield t.renderTemplates(this.templates,e);e.bottom()[this.variable]=r}};var hr,fr={parse:function(e,t){this.cond=new Xt(e.args,this.liquid),this.cases=[],this.elseTemplates=[];let r=[];const n=this.liquid.parser.parseStream(t).on("tag:when",(e=>{r=[];const t=new zt(e.args,this.liquid.options.operatorsTrie);for(;!t.end();){const e=t.readValue();e&&this.cases.push({val:e,templates:r}),t.readTo(",")}})).on("tag:else",(()=>r=this.elseTemplates)).on("tag:endcase",(()=>n.stop())).on("template",(e=>r.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)}));n.start()},render:function*(e,t){const r=this.liquid.renderer,n=be(yield this.cond.value(e,e.opts.lenientIf));for(const i of this.cases){if(It(i.val,e,e.opts.lenientIf)===n)return void(yield r.renderTemplates(i.templates,e,t))}yield r.renderTemplates(this.elseTemplates,e,t)}},mr={parse:function(e,t){const r=this.liquid.parser.parseStream(t);r.on("token",(e=>{"endcomment"===e.name&&r.stop()})).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)})),r.start()}};!function(e){e[e.OUTPUT=0]="OUTPUT",e[e.STORE=1]="STORE"}(hr||(hr={}));var gr=hr,vr={parse:function(e){const t=e.args,r=new zt(t,this.liquid.options.operatorsTrie);this.file=this.liquid.options.dynamicPartials?r.readValue():r.readFileName(),Lt(this.file,(()=>`illegal argument "${e.args}"`));const n=r.p;"with"===r.readIdentifier().content?(r.skipBlank(),":"!==r.peek()?this.withVar=r.readValue():r.p=n):r.p=n,this.hash=new Yt(r.remaining())},render:function*(e,t){const{liquid:r,hash:n,withVar:i,file:o}=this,{renderer:s}=r,a=e.opts.dynamicPartials?st(o)?yield s.renderTemplates(r.parse(Bt(o)),e):yield It(o,e):o.getText();Lt(a,(()=>`illegal filename "${o.getText()}":"${a}"`));const c=e.saveRegister("blocks","blockMode");e.setRegister("blocks",{}),e.setRegister("blockMode",gr.OUTPUT);const l=yield n.render(e);i&&(l[a]=It(i,e));const u=yield r._parseFile(a,e.opts,e.sync);e.push(l),yield s.renderTemplates(u,e,t),e.pop(),e.restoreRegister(c)}},yr={parse:function(e){const t=e.args,r=new zt(t,this.liquid.options.operatorsTrie);for(this.file=this.liquid.options.dynamicPartials?r.readValue():r.readFileName(),Lt(this.file,(()=>`illegal argument "${e.args}"`));!r.end();){r.skipBlank();const e=r.p,t=r.readIdentifier();if(("with"===t.content||"for"===t.content)&&(r.skipBlank(),":"!==r.peek())){const e=r.readValue();if(e){const n=r.p;let i;"as"===r.readIdentifier().content?i=r.readIdentifier():r.p=n,this[t.content]={value:e,alias:i&&i.content},r.skipBlank(),","===r.peek()&&r.advance();continue}}r.p=e;break}this.hash=new Yt(r.remaining())},render:function*(e,t){const{liquid:r,file:n,hash:i}=this,{renderer:o}=r,s=e.opts.dynamicPartials?st(n)?yield o.renderTemplates(r.parse(Bt(n)),e):It(n,e):n.getText();Lt(s,(()=>`illegal filename "${n.getText()}":"${s}"`));const a=new Ke({},e.opts,e.sync),c=yield i.render(e);if(this.with){const{value:t,alias:r}=this.with;c[r||s]=It(t,e)}if(a.push(c),this.for){const{value:n,alias:i}=this.for;let l=It(n,e);l=cr(l),c.forloop=new ur(l.length);for(const e of l){c[i]=e;const n=yield r._parseFile(s,a.opts,a.sync);yield o.renderTemplates(n,a,t),c.forloop.next()}}else{const e=yield r._parseFile(s,a.opts,a.sync);yield o.renderTemplates(e,a,t)}}},wr={parse:function(e){const t=new zt(e.args,this.liquid.options.operatorsTrie);this.variable=t.readIdentifier().content},render:function(e,t){const r=e.environments;Se(r[this.variable])||(r[this.variable]=0),t.write(we(--r[this.variable]))}},br={parse:function(e){const t=new zt(e.args,this.liquid.options.operatorsTrie),r=t.readValue();for(t.skipBlank(),this.candidates=[],r&&(":"===t.peek()?(this.group=r,t.advance()):this.candidates.push(r));!t.end();){const e=t.readValue();e&&this.candidates.push(e),t.readTo(",")}Lt(this.candidates.length,(()=>`empty candidates: ${e.getText()}`))},render:function(e,t){const r=`cycle:${It(this.group,e)}:`+this.candidates.join(","),n=e.getRegister("cycle");let i=n[r];void 0===i&&(i=n[r]=0);const o=this.candidates[i];i=(i+1)%this.candidates.length,n[r]=i;const s=It(o,e);t.write(s)}},Sr={parse:function(e,t){let r;this.branches=[],this.elseTemplates=[];const n=this.liquid.parser.parseStream(t).on("start",(()=>this.branches.push({cond:new Xt(e.args,this.liquid),templates:r=[]}))).on("tag:elsif",(e=>{this.branches.push({cond:new Xt(e.args,this.liquid),templates:r=[]})})).on("tag:else",(()=>r=this.elseTemplates)).on("tag:endif",(()=>n.stop())).on("template",(e=>r.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)}));n.start()},render:function*(e,t){const r=this.liquid.renderer;for(const n of this.branches){if(Ce(yield n.cond.value(e,e.opts.lenientIf),e))return void(yield r.renderTemplates(n.templates,e,t))}yield r.renderTemplates(this.elseTemplates,e,t)}},Tr={parse:function(e){const t=new zt(e.args,this.liquid.options.operatorsTrie);this.variable=t.readIdentifier().content},render:function(e,t){const r=e.environments;Se(r[this.variable])||(r[this.variable]=0);const n=r[this.variable];r[this.variable]++,t.write(we(n))}},Or={parse:function(e,t){const r=new zt(e.args,this.liquid.options.operatorsTrie),n=this.liquid.options.dynamicPartials?r.readValue():r.readFileName();Lt(n,(()=>`illegal argument "${e.args}"`)),this.file=n,this.hash=new Yt(r.remaining()),this.tpls=this.liquid.parser.parse(t)},render:function*(e,t){const{liquid:r,hash:n,file:i}=this,{renderer:o}=r;if("none"===i.getText()){e.setRegister("blockMode",gr.OUTPUT);const r=yield o.renderTemplates(this.tpls,e);return void t.write(r)}const s=e.opts.dynamicPartials?st(i)?yield o.renderTemplates(r.parse(Bt(i)),e):It(this.file,e):i.getText();Lt(s,(()=>`file "${i.getText()}"("${s}") not available`));const a=yield r._parseFile(s,e.opts,e.sync);e.setRegister("blockMode",gr.STORE);const c=yield o.renderTemplates(this.tpls,e),l=e.getRegister("blocks");void 0===l[""]&&(l[""]=()=>c),e.setRegister("blockMode",gr.OUTPUT),e.push(yield n.render(e));const u=yield o.renderTemplates(a,e);e.pop(),t.write(u)}};class xr extends he{constructor(e=(()=>"")){super(),this.superBlockRender=e}super(){return this.superBlockRender()}}var _r={parse(e,t){const r=/\w+/.exec(e.args);this.block=r?r[0]:"",this.tpls=[];const n=this.liquid.parser.parseStream(t).on("tag:endblock",(()=>n.stop())).on("template",(e=>this.tpls.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)}));n.start()},*render(e,t){const r=this.getBlockRender(e);yield this.emitHTML(e,t,r)},getBlockRender(e){const{liquid:t,tpls:r}=this,n=e.getRegister("blocks")[this.block],i=function*(n){e.push({block:n});const i=yield t.renderer.renderTemplates(r,e);return e.pop(),i};return n?e=>n(new xr((()=>i(e)))):i},*emitHTML(e,t,r){e.getRegister("blockMode",gr.OUTPUT)===gr.STORE?e.getRegister("blocks")[this.block]=r:t.write(yield r(new xr))}},kr={parse:function(e,t){this.tokens=[];const r=this.liquid.parser.parseStream(t);r.on("token",(e=>{"endraw"===e.name?r.stop():this.tokens.push(e)})).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)})),r.start()},render:function(){return this.tokens.map((e=>e.getText())).join("")}};class Er extends ur{constructor(e,t){super(e),this.length=e,this.cols=t}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return 0===this.col0()}col_last(){return this.col()===this.cols}}var qr={parse:function(e,t){const r=new zt(e.args,this.liquid.options.operatorsTrie);this.variable=r.readIdentifier(),r.skipBlank();const n=r.readIdentifier();let i;Lt(n&&"in"===n.content,(()=>`illegal tag: ${e.getText()}`)),this.collection=r.readValue(),this.hash=new Yt(r.remaining()),this.templates=[];const o=this.liquid.parser.parseStream(t).on("start",(()=>i=this.templates)).on("tag:endtablerow",(()=>o.stop())).on("template",(e=>i.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)}));o.start()},render:function*(e,t){let r=cr(yield It(this.collection,e));const n=yield this.hash.render(e),i=n.offset||0,o=void 0===n.limit?r.length:n.limit;r=r.slice(i,i+o);const s=n.cols||r.length,a=this.liquid.renderer,c=new Er(r.length,s),l={tablerowloop:c};e.push(l);for(let n=0;n<r.length;n++,c.next())l[this.variable.content]=r[n],0===c.col0()&&(1!==c.row()&&t.write("</tr>"),t.write(`<tr class="row${c.row()}">`)),t.write(`<td class="col${c.col()}">`),yield a.renderTemplates(this.templates,e,t),t.write("</td>");r.length&&t.write("</tr>"),e.pop()}};const Ar={assign:ar,for:pr,capture:dr,case:fr,comment:mr,include:vr,render:yr,decrement:wr,increment:Tr,cycle:br,if:Sr,layout:Or,block:_r,raw:kr,tablerow:qr,unless:{parse:function(e,t){let r;this.templates=[],this.branches=[],this.elseTemplates=[];const n=this.liquid.parser.parseStream(t).on("start",(()=>{r=this.templates,this.cond=new Xt(e.args,this.liquid)})).on("tag:elsif",(e=>{this.branches.push({cond:new Xt(e.args,this.liquid),templates:r=[]})})).on("tag:else",(()=>r=this.elseTemplates)).on("tag:endunless",(()=>n.stop())).on("template",(e=>r.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)}));n.start()},render:function*(e,t){const r=this.liquid.renderer;if(Ve(yield this.cond.value(e,e.opts.lenientIf),e))yield r.renderTemplates(this.templates,e,t);else{for(const n of this.branches){if(Ce(yield n.cond.value(e,e.opts.lenientIf),e))return void(yield r.renderTemplates(n.templates,e,t))}yield r.renderTemplates(this.elseTemplates,e,t)}}},break:{render:function(e,t){t.break=!0}},continue:{render:function(e,t){t.continue=!0}}},Lr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},jr={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function Nr(e){return we(e).replace(/&|<|>|"|'/g,(e=>Lr[e]))}const Pr=Math.abs,Dr=Math.max,Rr=Math.min,Mr=Math.ceil,Fr=Math.floor;const Cr=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,Vr=["January","February","March","April","May","June","July","August","September","October","November","December"],Ir=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Br=Vr.map(zr),Hr=Ir.map(zr),$r={1:"st",2:"nd",3:"rd",default:"th"};function zr(e){return e.slice(0,3)}function Ur(e){const t=function(e){const t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))}(e)?29:28;return[31,t,31,30,31,30,31,31,30,31,30,31]}function Wr(e){let t=0;for(let r=0;r<e.getMonth();++r)t+=Ur(e)[r];return t+e.getDate()}function Jr(e,t){const r=Wr(e)+(t-e.getDay()),n=7-new Date(e.getFullYear(),0,1).getDay()+t;return String(Math.floor((r-n)/7)+1)}const Qr={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},Yr={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},Gr={a:e=>Hr[e.getDay()],A:e=>Ir[e.getDay()],b:e=>Br[e.getMonth()],B:e=>Vr[e.getMonth()],c:e=>e.toLocaleString(),C:e=>function(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}(e),d:e=>e.getDate(),e:e=>e.getDate(),H:e=>e.getHours(),I:e=>String(e.getHours()%12||12),j:e=>Wr(e),k:e=>e.getHours(),l:e=>String(e.getHours()%12||12),L:e=>e.getMilliseconds(),m:e=>e.getMonth()+1,M:e=>e.getMinutes(),N:(e,t)=>{const r=Number(t.width)||9;return function(e,t,r=" "){return Le(e,t,r,((e,t)=>e+t))}(String(e.getMilliseconds()).substr(0,r),r,"0")},p:e=>e.getHours()<12?"AM":"PM",P:e=>e.getHours()<12?"am":"pm",q:e=>function(e){const t=e.getDate().toString(),r=parseInt(t.slice(-1));return $r[r]||$r.default}(e),s:e=>Math.round(e.valueOf()/1e3),S:e=>e.getSeconds(),u:e=>e.getDay()||7,U:e=>Jr(e,0),w:e=>e.getDay(),W:e=>Jr(e,1),x:e=>e.toLocaleDateString(),X:e=>e.toLocaleTimeString(),y:e=>e.getFullYear().toString().substring(2,4),Y:e=>e.getFullYear(),z:(e,t)=>{const r=e.getTimezoneOffset(),n=Math.abs(r),i=n%60;return(r>0?"-":"+")+Ae(Math.floor(n/60),2,"0")+(t.flags[":"]?":":"")+Ae(i,2,"0")},t:()=>"\t",n:()=>"\n","%":()=>"%"};function Xr(e,t){const[r,n="",i,o,s]=t,a=Gr[s];if(!a)return r;const c={};for(const e of n)c[e]=!0;let l=String(a(e,{flags:c,width:i,modifier:o})),u=Yr[s]||"0",p=i||Qr[s]||0;var d;return c["^"]?l=l.toUpperCase():c["#"]&&(d=l,l=[...d].some((e=>e>="a"&&e<="z"))?d.toUpperCase():d.toLowerCase()),c._?u=" ":c[0]&&(u="0"),c["-"]&&(p=0),Ae(l,p,u)}Gr.h=Gr.b;class Zr extends Date{constructor(e){super(e),this.dateString=e,this.ISO8601_TIMEZONE_PATTERN=/([zZ]|([+-])(\d{2}):(\d{2}))$/,this.inputTimezoneOffset=0;const t=e.match(this.ISO8601_TIMEZONE_PATTERN);if(t&&"Z"===t[1])this.inputTimezoneOffset=this.getTimezoneOffset();else if(t&&t[2]&&t[3]&&t[4]){const[,,e,r,n]=t,i=("+"===e?1:-1)*(60*parseInt(r,10)+parseInt(n,10));this.inputTimezoneOffset=this.getTimezoneOffset()+i}}getDisplayDate(){return new Date(+this+60*this.inputTimezoneOffset*1e3)}}var Kr=Object.freeze({escape:Nr,escapeOnce:function(e){return Nr(function(e){return String(e).replace(/&(amp|lt|gt|#34|#39);/g,(e=>jr[e]))}(e))},newlineToBr:function(e){return e.replace(/\n/g,"<br />\n")},stripHtml:function(e){return e.replace(/<script.*?<\/script>|<!--.*?-->|<style.*?<\/style>|<.*?>/g,"")},abs:Pr,atLeast:Dr,atMost:Rr,ceil:Mr,dividedBy:(e,t)=>e/t,floor:Fr,minus:(e,t)=>e-t,modulo:(e,t)=>e%t,times:(e,t)=>e*t,round:function(e,t=0){const r=Math.pow(10,t);return Math.round(e*r)/r},plus:function(e,t){return Number(e)+Number(t)},sortNatural:function(e,t){return e&&e.sort?void 0!==t?[...e].sort(((e,r)=>Pe(e[t],r[t]))):[...e].sort(Pe):[]},urlDecode:e=>e.split("+").map(decodeURIComponent).join(" "),urlEncode:e=>e.split(" ").map(encodeURIComponent).join("+"),join:(e,t)=>e.join(void 0===t?" ":t),last:e=>xe(e)?ke(e):"",first:e=>xe(e)?e[0]:"",reverse:e=>[...e].reverse(),sort:function(e,t){const r=e=>t?this.context.getFromScope(e,t.split(".")):e;return lr(e).sort(((e,t)=>(e=r(e))<(t=r(t))?-1:e>t?1:0))},size:e=>e&&e.length||0,map:function(e,t){return lr(e).map((e=>this.context.getFromScope(e,t.split("."))))},compact:function(e){return lr(e).filter((e=>!Oe(e)))},concat:function(e,t){return lr(e).concat(t)},slice:function(e,t,r=1){return t=t<0?e.length+t:t,e.slice(t,t+r)},where:function(e,t,r){return lr(e).filter((e=>{const n=this.context.getFromScope(e,String(t).split("."));return void 0===r?Ce(n,this.context):n===r}))},uniq:function(e){const t={};return(e||[]).filter((e=>!t.hasOwnProperty(String(e))&&(t[String(e)]=!0,!0)))},date:function(e,t){let r=e;return"now"===e||"today"===e?r=new Date:Se(e)?r=new Date(1e3*e):ve(e)&&(r=/^\d+$/.test(e)?new Date(1e3*+e):this.context.opts.preserveTimezones?new Zr(e):new Date(e)),function(e){return e instanceof Date&&!isNaN(e.getTime())}(r)?function(e,t){let r=e;r instanceof Zr&&(r=r.getDisplayDate());let n,i="",o=t;for(;n=Cr.exec(o);)i+=o.slice(0,n.index),o=o.slice(n.index+n[0].length),i+=Xr(r,n);return i+o}(r,t):e},Default:function(e,t){return xe(e)||ve(e)?e.length?e:t:Ve(be(e),this.context)?t:e},json:function(e){return JSON.stringify(e)},append:function(e,t){return Lt(2===arguments.length,(()=>"append expect 2 arguments")),we(e)+we(t)},prepend:function(e,t){return Lt(2===arguments.length,(()=>"prepend expect 2 arguments")),we(t)+we(e)},lstrip:function(e){return we(e).replace(/^\s+/,"")},downcase:function(e){return we(e).toLowerCase()},upcase:function(e){return we(e).toUpperCase()},remove:function(e,t){return we(e).split(String(t)).join("")},removeFirst:function(e,t){return we(e).replace(String(t),"")},rstrip:function(e){return we(e).replace(/\s+$/,"")},split:function(e,t){return we(e).split(String(t))},strip:function(e){return we(e).trim()},stripNewlines:function(e){return we(e).replace(/\n/g,"")},capitalize:function(e){return(e=we(e)).charAt(0).toUpperCase()+e.slice(1).toLowerCase()},replace:function(e,t,r){return we(e).split(String(t)).join(r)},replaceFirst:function(e,t,r){return we(e).replace(String(t),r)},truncate:function(e,t=50,r="..."){return(e=we(e)).length<=t?e:e.substr(0,t-r.length)+r},truncatewords:function(e,t=15,r="..."){const n=e.split(/\s+/);let i=n.slice(0,t).join(" ");return n.length>=t&&(i+=r),i}});class en{constructor(){this.impls={}}get(e){const t=this.impls[e];return Lt(t,(()=>`tag "${e}" not found`)),t}set(e,t){this.impls[e]=t}}class tn{constructor(e,t){this.strictFilters=e,this.liquid=t,this.impls={}}get(e){const t=this.impls[e];return Lt(t||!this.strictFilters,(()=>`undefined filter: ${e}`)),t}set(e,t){this.impls[e]=t}create(e,t){return new Gt(e,this.get(e),t,this.liquid)}}class rn{constructor(e={}){var t;this.options=(t=ze(e),Object.assign({},$e,t)),this.parser=new sr(this),this.renderer=new Wt,this.filters=new tn(this.options.strictFilters,this),this.tags=new en,_e(Ar,((e,t)=>this.registerTag(Ne(t),e))),_e(Kr,((e,t)=>this.registerFilter(Ne(t),e)))}parse(e,t){const r=new zt(e,this.options.operatorsTrie,t).readTopLevelTokens(this.options);return this.parser.parse(r)}_render(e,t,r,n){const i=Object.assign({},this.options,ze(r)),o=new Ke(t,i,n),s=new Ut(i.keepOutputType);return this.renderer.renderTemplates(e,o,s)}async render(e,t,r){return tr(this._render(e,t,r,!1))}renderSync(e,t,r){return rr(this._render(e,t,r,!0))}_parseAndRender(e,t,r,n){const i=this.parse(e);return this._render(i,t,r,n)}async parseAndRender(e,t,r){return tr(this._parseAndRender(e,t,r,!1))}parseAndRenderSync(e,t,r){return rr(this._parseAndRender(e,t,r,!0))}*_parseFile(e,t,r){const n=Object.assign({},this.options,ze(t)),i=n.root.map((t=>n.fs.resolve(t,e,n.extname)));if(void 0!==n.fs.fallback){const t=n.fs.fallback(e);void 0!==t&&i.push(t)}for(const e of i){const{cache:t}=n;if(t){const r=yield t.read(e);if(r)return r}if(!(r?n.fs.existsSync(e):yield n.fs.exists(e)))continue;const i=this.parse(r?n.fs.readFileSync(e):yield n.fs.readFile(e),e);return t&&t.write(e,i),i}throw this.lookupError(e,n.root)}async parseFile(e,t){return tr(this._parseFile(e,t,!1))}parseFileSync(e,t){return rr(this._parseFile(e,t,!0))}async renderFile(e,t,r){const n=await this.parseFile(e,r);return this.render(n,t,r)}renderFileSync(e,t,r){const n=this.parseFileSync(e,r);return this.renderSync(n,t,r)}_evalValue(e,t){return new Xt(e,this).value(t,!1)}async evalValue(e,t){return tr(this._evalValue(e,t))}evalValueSync(e,t){return rr(this._evalValue(e,t))}registerFilter(e,t){this.filters.set(e,t)}registerTag(e,t){this.tags.set(e,t)}plugin(e){return e.call(this,rn)}express(){const e=this;return function(t,r,n){const i={root:[...Ue(this.root),...e.options.root]};e.renderFile(t,r,i).then((e=>n(null,e)),n)}}lookupError(e,t){const r=new Error("ENOENT");return r.message=`ENOENT: Failed to lookup "${e}" in "${t}"`,r.code="ENOENT",r}async getTemplate(e,t){return this.parseFile(e,t)}getTemplateSync(e,t){return this.parseFileSync(e,t)}}function nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(r),!0).forEach((function(t){sn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function an(e){return function(e){if(Array.isArray(e))return cn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ln,un={currentTheme:"",currentOptionSelected:[],currentVariantId:null,variantsAvailable:[],formSelector:null,selectors:{singleOptionSelector:"select.single-option-selector,.options-selection__input-select,.product__variant,.select-wrapper>select,.form__input--select,.product-option-select select,.selector-wrapper select,.form-element-select select,.product-form__option-select,.pf-element select,select.option-selector,.product-details__option-wrapper select,.product-form__input select,select.pf-variant-select,select.product-form__input,select.form-control,select.product-option.custom-select,.variant-input-wrap>select",radioSelectors:'input[type="radio"].single-option-selector__radio,input[type="radio"].variant-input,input.form-check-input[type="radio"],input.product-variant__input[type="radio"],input.product-form__single-selector[type="radio"],.radio__fieldset input[type="radio"],input.swatch__input[type="radio"],.swatch-element input[type="radio"],input.option-value-input[type="radio"],input.radios--input[type="radio"],input.single-option-selector[type="radio"],.form-swatch-item input[type="radio"],.product-options input[type="radio"],.single-option-radio input[type="radio"],.product-form__input input[type="radio"],.pf-variant-radio input[type="radio"],input.single-option-selector-product-template[type="radio"],.options-selection__option-values input[type="radio"],.swatch__option input[type="radio"],input.ColorSwatch__Radio[type="radio"],.variant-input input[type="radio"]',customSelectors:"input.disclosure--input,.js-option.active,.product__chip,.Popover__Value,.popout-list__option,.clickyboxes a,li.nt-swatch.swatch_pr_item",hideElements:".selector-wrapper,.radio-wrapper,fieldset,.options-selection__select-wrapper,.disclosure--root,.product-options[data-section-name],.js-enabled.product-form__option,.product-form__select,.product-option,.product-option-select,.product-variant,.variant-wrapper,.product-form__variants,.js-enabled,.swatch.selectors,.swatch_options,.ProductForm__Variants,.form-element-wrapper,.variant-group,.swatch,.product-single__swatches,.product-form--variants,.product__variants,.product-swatches,.product-options .option,.product-options,.swatches__container,.product-form-grid-select,.product-details__option-wrapper"},isArrayEqual:function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!t.includes(e[r]))return!1;return!0},appendControl:function(e){var t=this,r=new DOMParser,n=document.querySelector("#vario-product-variant-template").innerHTML,i=new rn;return i.registerFilter("img_url",(function(e,t,r){if(!e)return"";r=r||!1;var n=e.split(".").pop(),i=e.lastIndexOf(n)-1;return e.slice(0,i)+"_"+t+e.slice(i)})),new Promise((function(o,s){var a=i.parse(n);i.render(a,{product:e,options_with_values:window.vario_options_with_values,varioSettings:window.varioSettings}).then((function(e){var n=r.parseFromString(e,"text/html").querySelector(".vario-all-variant-wrapper");if("maxxofertas1.myshopify.com"==Shopify.shop)return document.querySelector('form[action*="/cart/add"]').parentNode.insertBefore(n,document.querySelector('form[action*="/cart/add"]')),void o(e);if("shop-junto.myshopify.com"==Shopify.shop)return document.querySelector('form[action*="/cart/add"] .single_product__options').prepend(n),void o(e);if("emi-theory.myshopify.com"==Shopify.shop)return document.querySelector('form[action*="/cart/add"] .product-form__variants').parentNode.insertBefore(n,document.querySelector('form[action*="/cart/add"] .product-form__variants')),void o(e);if("helrym.myshopify.com"==Shopify.shop)return document.querySelector('form[action*="/cart/add"] .product-description').parentNode.insertBefore(n,document.querySelector('form[action*="/cart/add"] .product-description')),void o(e);if("lawrence-russel.myshopify.com"==Shopify.shop)return document.querySelector('form[action*="/cart/add"] .product-info .product-single__variants').parentNode.insertBefore(n,document.querySelector('form[action*="/cart/add"] .product-info .product-single__variants')),void o(e);if("jocafs-ab.myshopify.com"==Shopify.shop)return document.querySelector('form[action*="/cart/add"] .product-swatches').parentNode.insertBefore(n,document.querySelector('form[action*="/cart/add"] .product-swatches')),void o(e);if("dd-s-bridal-shop.myshopify.com"==Shopify.shop)return document.querySelector('form[action*="/cart/add"] .product-form__controls-group').parentNode.insertBefore(n,document.querySelector('form[action*="/cart/add"] .product-form__controls-group')),void o(e);if("tickingdepot.myshopify.com"==Shopify.shop)return document.querySelector('form[action*="/cart/add"] .product-details__options').parentNode.insertBefore(n,document.querySelector('form[action*="/cart/add"] .product-details__options')),void o(e);if("tkgky-nie.myshopify.com"==Shopify.shop)return document.querySelector('form[action*="/cart/add"] .product-detail__quantity-row').parentNode.insertBefore(n,document.querySelector('form[action*="/cart/add"] .product-detail__quantity-row')),void o(e);if(865==Shopify.theme.theme_store_id)return document.querySelector('form[action*="/cart/add"] .purchase-section').prepend(n),void o(e);if(855==Shopify.theme.theme_store_id)return t.formSelector.insertBefore(n,t.formSelector.querySelector(".ProductForm__Variants")),void o(e);if(846==Shopify.theme.theme_store_id)return t.formSelector.querySelector(".product-details").insertBefore(n,t.formSelector.querySelector(".variant-group")),void o(e);if(window.__pagefly_setting__){var i=document.querySelectorAll('[data-pf-type="ProductVariant"]');if(i.length&&i.forEach((function(e){e.parentNode.insertBefore(n,e)})),document.querySelector(".vario-variant-wrapper"))return void o(e)}document.querySelector('form[action*="/cart/add"]').prepend(n),o(e)}))}))},getCurrentOptions:function(){if(this.formSelector){var e=this.formSelector.querySelector('select[name="id"], input[name="id"]');if(e){this.currentVariantId=e.value;var t=e.value,r=window.location.href.match(/\?variant=(\d+)$/);window.__pagefly_setting__&&r&&r[1]!=t&&(t=r[1]);var n=seedGrowJSData.variants.find((function(e){return e.id==t}));n&&(this.currentOptionSelected=an(n.options))}}},generateTooltip:function(){var e=document.querySelectorAll(".vario-variant[data-v-tooltip]");e&&e.forEach((function(e){var t=document.createElement("span");t.classList.add("vario-variant-tip");var r;t.appendChild((r=e.getAttribute("data-value"),document.createTextNode(r))),document.body.appendChild(t);var n=de(e,t,{modifiers:[{name:"offset",options:{offset:[0,8]}}],placement:"top"});e.addEventListener("mouseenter",(function(){t.setAttribute("data-tip-show",""),n.update()})),e.addEventListener("mouseleave",(function(){t.removeAttribute("data-tip-show")}))}))},triggerControlEvent:function(e,t){var r=this,n=document.querySelectorAll(this.selectors.singleOptionSelector);if(n.length){var i=Object.values(n).find((function(t){return Object.values(t.options).find((function(t){return t.value==e}))})),o=Object.values(n).filter((function(t){return Object.values(t).find((function(t){return t.value==e}))}));o.length&&(1==o.length?i&&(i.value=e)&&i.dispatchEvent(new Event("change",{bubbles:!0})):o[t]&&(o[t].value=e)&&o[t].dispatchEvent(new Event("change",{bubbles:!0}))),!i&&seedGrowJSData.variants.find((function(t){if(r.isArrayEqual(t.options,r.currentOptionSelected)){var i=Object.values(n).find((function(t){return Object.values(t.options).find((function(t){return t.value==e}))}));i&&(i.value=t.id)&&i.dispatchEvent(new Event("change",{bubbles:!0}))}}))}var s=document.querySelectorAll(this.selectors.radioSelectors);if(s.length){var a=Object.values(s).filter((function(t){return t.value==e}));if(a.length)if(1==a.length)a[0]&&a[0].click();else{var c=a.find((function(e){return e.dataset.index=="option".concat(t+1)}));c&&c.click()}else seedGrowJSData.variants.forEach((function(e){if(r.isArrayEqual(e.options,r.currentOptionSelected)){var t=Object.values(s).find((function(t){return t.value==e.id}));t&&t.click()}}))}var l=document.querySelectorAll(this.selectors.customSelectors);l.length&&l.forEach((function(t){t.parentNode.querySelector('[data-value="'.concat(e,'"]'))&&t.parentNode.querySelector('[data-value="'.concat(e,'"]')).click(),t.parentNode.querySelector('[data-button="'.concat(e,'"]'))&&t.parentNode.querySelector('[data-button="'.concat(e,'"]')).click(),t.parentNode.querySelector('[data-escape="'.concat(e,'"]'))&&t.parentNode.querySelector('[data-escape="'.concat(e,'"]')).click()}))},addControlEvents:function(){var e=this,t=document.querySelectorAll(".vario-variants");t.length&&t.forEach((function(t,r){if("SELECT"==t.nodeName)e.currentOptionSelected[r]&&(t.value=e.currentOptionSelected[r],Object.values(t.options).find((function(n){n.value==e.currentOptionSelected[r]&&(n.selected="selected"),t.closest(".vario-variant-wrapper").querySelector(".vario-variant-selected").innerText=e.currentOptionSelected[r]}))),t.addEventListener("change",(function(n){var i=t.getAttribute("data-position");t.closest(".vario-variant-wrapper").querySelector(".vario-variant-selected").innerText=n.target.value,e.currentOptionSelected[i]=n.target.value,e.triggerControlEvent(n.target.value,r),e.disableVariantNotAvailable()}));else{var n=t.querySelectorAll(".vario-variant");n.length&&n.forEach((function(n){n.getAttribute("data-value")==e.currentOptionSelected[r]&&(n.classList.add("sv_active"),n.closest(".vario-variant-wrapper").querySelector(".vario-variant-selected").innerText=e.currentOptionSelected[r]),n.addEventListener("click",(function(i){var o=n.getAttribute("data-value"),s=n.getAttribute("data-position");n.closest(".vario-variant-wrapper").querySelector(".vario-variant-selected").innerText=o;var a=t.querySelector(".sv_active");a&&a.classList.remove("sv_active"),n.classList.add("sv_active"),e.currentOptionSelected[s]=o,e.triggerControlEvent(o,r),e.disableVariantNotAvailable()}))}))}}))},init:function(){var e=this;this.formSelector=document.querySelector('form[action*="/cart/add"]');var t=JSON.parse(document.querySelector("#vario-product-json").innerHTML);window.seedGrowJSData=t,this.getAvailableVariantOptions(t.variants),this.getCurrentOptions(),this.onVariantInFormChange(),this.appendControl(t).then((function(t){e.addControlEvents(),e.disableVariantNotAvailable(),e.generateTooltip()}))},setDefaultOptions:function(){this.currentOptionSelected.length&&-1===this.currentOptionSelected.indexOf("not-selected")||document.querySelectorAll(".vario-variants").forEach((function(e){e.querySelector(".vario-variant").click()}))},getAvailableVariantOptions:function(e){var t=this;e.forEach((function(e){e.available&&t.variantsAvailable.push(an(e.options))}))},hideFormElements:function(){document.querySelectorAll(this.selectors.hideElements).forEach((function(e){return e.style.display="none"}))},disableVariantNotAvailable:function(){var e=this,t=document.querySelectorAll(".vario-variants");this.currentOptionSelected.length&&seedGrowJSData.options.length===this.currentOptionSelected.length&&t.forEach((function(t,r){t.querySelectorAll(".vario-variant").forEach((function(t){var r=t.getAttribute("data-value"),n=t.getAttribute("data-position"),i=(t.getAttribute("data-option"),[]);(i=an(e.currentOptionSelected))[n]=r,e.variantsAvailable.find((function(t){return e.isArrayEqual(t,i)}))?t.classList.remove("vario-disabled"):t.classList.add("vario-disabled")}))}))},triggerSelfControl:function(e,t){var r=document.querySelector('select.vario-variants[data-position="'.concat(t,'"]'));r&&function(e){throw new TypeError('"'+e+'" is read-only')}("varioSelect")&&r.dispatchEvent(new Event("change",{bubbles:!0}));var n=document.querySelector('.vario-variant[data-value="'.concat(e,'"][data-position="').concat(t,'"]'));n&&n.click()},onVariantInFormChange:function(){var e=this,t=this.formSelector.querySelector('select[name="id"], input[name="id"]');t&&t.addEventListener("change",(function(t){e.currentVariantId&&e.currentVariantId!=t.target.value&&(e.getCurrentOptions(),e.currentOptionSelected.forEach((function(t,r){e.triggerSelfControl(t,r)})),e.currentVariantId=null)}))}},pn={productSelectors:[],optionSelectors:[],collectionProducts:[],priceRegularSelectors:".price__regular .price-item--regular,.grid-product__price,.product-item--price>span>small[aria-hidden=true],.price__sale .price-item--sale,.card__price,.grid-link__meta,.product-thumbnail__header .product__price,.product__prices,.product-item__price-wrapper,.product-card__price,.product-price .theme-money,.product-thumbnail__price",priceCompareSelectors:".price__compare .price-item--regular,.product-item--price s small,.on-sale .sale-tag,.grid-product__on-sale",productImgSelectors:".product-card__image-wrapper,.grid-product__image-link,.product-grid-image,.card__image-wrapper,.product__img-wrapper,.product__image-wrapper,.product-item__image-wrapper,.card--product .media, .product-thumbnail__media,.grid-product__image-mask .image-wrap,.rimage-wrapper,.product-image__wrapper",moneyFormat:null,init:function(){var e=this;if(this.moneyFormat=this.getCurrentMoneyFormat(),this.productSelectors=document.querySelectorAll(".vario-collecion-product-tml"),this.optionSelectors=document.querySelectorAll(".vario-collecion-product-options-tml"),this.productSelectors.length&&this.optionSelectors.length){var t=this.productSelectors.length;this.productSelectors.forEach((function(r,n){var i=JSON.parse(r.innerHTML),o=JSON.parse(e.optionSelectors[n].innerHTML);e.appendControl(r,i,o).then((function(o){e.addControlEvents(r,n),e.collectionProducts.push(on(on({},i),{},{currentOptionSelected:[],variantsAvailable:e.getAvailableVariantOptions(i.variants)})),n===t-1&&e.generateTooltip()}))}))}},generateTooltip:function(){var e=document.querySelectorAll(".vario-variant[data-v-tooltip]");e&&e.forEach((function(e){var t=document.createElement("span");t.classList.add("vario-variant-tip");var r;t.appendChild((r=e.getAttribute("data-value"),document.createTextNode(r))),document.body.appendChild(t);var n=de(e,t,{modifiers:[{name:"offset",options:{offset:[0,8]}}],placement:"top"});e.addEventListener("mouseenter",(function(){t.setAttribute("data-tip-show",""),n.update()})),e.addEventListener("mouseleave",(function(){t.removeAttribute("data-tip-show")}))}))},getCurrentMoneyFormat:function(){var e,t,r,n,i,o,s,a,c,l,u,p,d,h,f;return null!==(e=window)&&void 0!==e&&e.moneyFormat?window.moneyFormat:null!==(t=window)&&void 0!==t&&null!==(r=t.theme)&&void 0!==r&&r.moneyFormat?theme.moneyFormat:null!==(n=window)&&void 0!==n&&null!==(i=n.theme)&&void 0!==i&&null!==(o=i.settings)&&void 0!==o&&o.moneyFormat?theme.settings.moneyFormat:null!==(s=window)&&void 0!==s&&null!==(a=s.theme)&&void 0!==a&&a.money_format?theme.money_format:null!==(c=window)&&void 0!==c&&null!==(l=c.theme)&&void 0!==l&&null!==(u=l.shop)&&void 0!==u&&u.money_format?theme.shop.money_format:null!==(p=window)&&void 0!==p&&null!==(d=p.wetheme)&&void 0!==d&&d.moneyFormat?wetheme.moneyFormat:null!==(h=window)&&void 0!==h&&null!==(f=h.StyleHatch)&&void 0!==f&&f.currencyFormat?StyleHatch.currencyFormat:window.VarioCurrencyFormat},formatMoney:function(e,t){"string"==typeof e&&(e=e.replace(".",""));var r="",n=/\{\{\s*(\w+)\s*\}\}/,i=t||this.moneyFormat;function o(e,t){return void 0===e?t:e}function s(e,t,r,n){if(t=o(t,2),r=o(r,","),n=o(n,"."),isNaN(e)||null==e)return 0;var i=(e=(e/100).toFixed(t)).split(".");return i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+r)+(i[1]?n+i[1]:"")}switch(i.match(n)[1]){case"amount":r=s(e,2);break;case"amount_no_decimals":r=s(e,0);break;case"amount_with_apostrophe_separator":r=s(e,2,"'",".");break;case"amount_with_comma_separator":r=s(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":r=s(e,0,".",",")}return i.replace(n,r)},appendControl:function(e,t,r){var n=new DOMParser,i=document.querySelector("#vario-product-variant-template").innerHTML,o=new rn;return o.registerFilter("img_url",(function(e,t,r){if(!e)return"";r=r||!1;var n=e.split(".").pop(),i=e.lastIndexOf(n)-1;return e.slice(0,i)+"_"+t+e.slice(i)})),new Promise((function(s,a){var c,l,u,p=o.parse(i);o.render(p,{product:t,options_with_values:r,varioSettings:window.varioSettings,page_type_collection:!(null===(c=window)||void 0===c||null===(l=c.meta)||void 0===l||null===(u=l.page)||void 0===u||!u.pageType||"collection"!=window.meta.page.pageType)}).then((function(t){var r=n.parseFromString(t,"text/html").querySelector(".vario-all-variant-wrapper");e.parentNode.insertBefore(r,e),s(t)}))}))},addControlEvents:function(e,t){var r=this,n=e.parentNode.querySelectorAll(".vario-variants");n.length&&n.forEach((function(i,o){if("SELECT"==i.nodeName)i.addEventListener("change",(function(o){var s=i.getAttribute("data-position");i.closest(".vario-variant-wrapper").querySelector(".vario-variant-selected").innerText=o.target.value,r.collectionProducts[t].currentOptionSelected[s]=o.target.value,r.triggerHiddenVariant(e,t),r.changePrice(e,t),r.disableVariantNotAvailable(n,t)}));else{var s=i.querySelectorAll(".vario-variant");s.length&&s.forEach((function(o){o.addEventListener("click",(function(s){var a=o.getAttribute("data-value"),c=o.getAttribute("data-position");o.closest(".vario-variant-wrapper").querySelector(".vario-variant-selected").innerText=a;var l=i.querySelector(".sv_active");l&&l.classList.remove("sv_active"),o.classList.add("sv_active"),r.collectionProducts[t].currentOptionSelected[c]=a,r.triggerHiddenVariant(e,t),r.changePrice(e,t),r.disableVariantNotAvailable(n,t)}))}))}}))},triggerHiddenVariant:function(e,t){var r=this,n=e.parentNode.querySelectorAll(".vario-variant-wrapper.vario-hidden .vario-variants");n.length&&n.forEach((function(e){if("SELECT"==e.nodeName){var n=e.getAttribute("data-position"),i=e.firstElementChild.value;r.collectionProducts[t].currentOptionSelected[n]=i}else{var o=e.firstElementChild.getAttribute("data-position"),s=e.firstElementChild.getAttribute("data-value");r.collectionProducts[t].currentOptionSelected[o]=s}}))},changeImgUrlSize:function(e,t){if(!e)return"";var r=e.split(".").pop(),n=e.lastIndexOf(r)-1;return e.slice(0,n)+"_"+t+e.slice(n)},changeImage:function(e,t){var r=e.parentNode.querySelector(this.productImgSelectors).querySelector("img");r&&t.featured_image&&(r.dataset.srcset=this.changeImgUrlSize(t.featured_image.src,"240x"),r.src=this.changeImgUrlSize(t.featured_image.src,"240x"),r.srcset=this.changeImgUrlSize(t.featured_image.src,"240x"))},changePrice:function(e,t){var r=this.collectionProducts[t].variants,n=this.collectionProducts[t].currentOptionSelected,i=r.find((function(e){return e.options.every((function(e,t){return e==n[t]}))})),o=e.parentNode.querySelector(this.priceRegularSelectors),s=e.parentNode.querySelectorAll(this.priceCompareSelectors);i?(o&&(o.innerHTML=this.formatMoney(i.price)),s.length&&s.forEach((function(e){e&&(e.style.display="none")})),this.changeImage(e,i)):n.length===this.collectionProducts[t].options.length&&o&&(o.innerHTML="Unavailable")},getAvailableVariantOptions:function(e){var t=[];return e.forEach((function(e){e.available&&t.push(an(e.options))})),t},isArrayEqual:function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!t.includes(e[r]))return!1;return!0},disableVariantNotAvailable:function(e,t){var r=this;this.collectionProducts[t].currentOptionSelected.length&&this.collectionProducts[t].options.length===this.collectionProducts[t].currentOptionSelected.length&&e.forEach((function(e,n){e.querySelectorAll(".vario-variant").forEach((function(e){var n=e.getAttribute("data-value"),i=e.getAttribute("data-position"),o=(e.getAttribute("data-option"),[]);(o=an(r.collectionProducts[t].currentOptionSelected))[i]=n,r.collectionProducts[t].variantsAvailable.find((function(e){return r.isArrayEqual(e,o)}))?e.classList.remove("vario-disabled"):e.classList.add("vario-disabled")}))}))}};ln=function(){var e=window.meta.page.pageType;"collection"===e?(885===Shopify.theme.theme_store_id&&document.body.classList.add("vario-body"),pn.init()):"product"===e&&un.init()},(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?ln():document.addEventListener("DOMContentLoaded",ln),window.Vario=un,window.VarioCollection=pn})();